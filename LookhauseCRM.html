<!DOCTYPE html>
<html lang="tr" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lookhause CRM</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        gold: '#FFD700',
                        'gold-dark': '#B8860B',
                        'gold-light': '#FFF8DC'
                    }
                }
            }
        }
    </script>
    <style>
        body {
            box-sizing: border-box;
        }
        .gradient-gold {
            background: linear-gradient(135deg, #FFD700 0%, #B8860B 100%);
        }
        .shadow-gold {
            box-shadow: 0 4px 20px rgba(255, 215, 0, 0.3);
        }
        .notification-badge {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
    </style>
</head>
<body class="h-full bg-black text-white font-sans">
    <!-- Login Screen -->
    <div id="loginScreen" class="min-h-full flex items-center justify-center bg-gradient-to-br from-black via-gray-900 to-black">
        <div class="max-w-md w-full mx-4">
            <div class="bg-gray-900 rounded-2xl shadow-gold p-8 border border-gold/20">
                <div class="text-center mb-8">
                    <h1 class="text-4xl font-bold gradient-gold bg-clip-text text-transparent">Lookhause</h1>
                    <p class="text-gold text-lg mt-2">CRM Sistemi</p>
                </div>
                
                <form id="loginForm" class="space-y-6">
                    <div>
                        <label for="username" class="block text-sm font-medium text-gold mb-2">Kullanƒ±cƒ± Adƒ±</label>
                        <input type="text" id="username" required class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg focus:border-gold focus:outline-none text-white">
                    </div>
                    
                    <div>
                        <label for="password" class="block text-sm font-medium text-gold mb-2">≈ûifre</label>
                        <input type="password" id="password" required class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg focus:border-gold focus:outline-none text-white">
                    </div>
                    
                    <div>
                        <label for="userType" class="block text-sm font-medium text-gold mb-2">Kullanƒ±cƒ± Tipi</label>
                        <select id="userType" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg focus:border-gold focus:outline-none text-white">
                            <option value="admin">Y√∂netici</option>
                            <option value="advisor">Danƒ±≈üman</option>
                        </select>
                    </div>
                    
                    <button type="submit" class="w-full gradient-gold text-black font-semibold py-3 rounded-lg hover:opacity-90 transition-opacity">
                        Giri≈ü Yap
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Main Dashboard -->
    <div id="dashboard" class="hidden min-h-full">
        <!-- Header -->
        <header class="bg-gray-900 border-b border-gold/20 px-4 py-3">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <h1 class="text-2xl font-bold gradient-gold bg-clip-text text-transparent">Lookhause CRM</h1>
                    <span id="userRole" class="px-3 py-1 bg-gold/20 text-gold rounded-full text-sm"></span>
                </div>
                
                <div class="flex items-center space-x-4">
                    <!-- Notifications -->
                    <div class="relative">
                        <button id="notificationBtn" class="p-2 text-gold hover:bg-gold/10 rounded-lg relative">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-5 5v-5z"></path>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19c-5 0-8-3-8-6s4-6 9-6 9 3 9 6c0 3-3 6-8 6z"></path>
                            </svg>
                            <span id="notificationCount" class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center notification-badge">3</span>
                        </button>
                        
                        <!-- Notification Dropdown -->
                        <div id="notificationDropdown" class="hidden absolute right-0 mt-2 w-80 bg-gray-900 border border-gold/20 rounded-lg shadow-gold z-50">
                            <div class="p-4 border-b border-gold/20">
                                <h3 class="text-gold font-semibold">Bildirimler</h3>
                            </div>
                            <div id="notificationList" class="max-h-64 overflow-y-auto">
                                <div class="p-3 border-b border-gray-700 hover:bg-gray-800">
                                    <p class="text-sm text-white">Yeni portf√∂y eklendi: Be≈üikta≈ü'ta 3+1 daire</p>
                                    <p class="text-xs text-gray-400 mt-1">2 dakika √∂nce</p>
                                </div>
                                <div class="p-3 border-b border-gray-700 hover:bg-gray-800">
                                    <p class="text-sm text-white">M√º≈üteri g√∂r√º≈ümesi planlandƒ±</p>
                                    <p class="text-xs text-gray-400 mt-1">15 dakika √∂nce</p>
                                </div>
                                <div class="p-3 hover:bg-gray-800">
                                    <p class="text-sm text-white">Yeni danƒ±≈üman sisteme katƒ±ldƒ±</p>
                                    <p class="text-xs text-gray-400 mt-1">1 saat √∂nce</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <button id="logoutBtn" class="px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-white">
                        √áƒ±kƒ±≈ü
                    </button>
                </div>
            </div>
        </header>

        <div class="flex h-full">
            <!-- Sidebar -->
            <nav id="sidebar" class="w-64 bg-gray-900 border-r border-gold/20 min-h-screen">
                <div class="p-4">
                    <ul class="space-y-2">
                        <li><button class="nav-btn w-full text-left px-4 py-3 rounded-lg hover:bg-gold/10 text-gold" data-tab="dashboard">üìä Dashboard</button></li>
                        <li><button class="nav-btn w-full text-left px-4 py-3 rounded-lg hover:bg-gold/10 text-white" data-tab="portfolios">üè† Portf√∂yler</button></li>
                        <li><button class="nav-btn w-full text-left px-4 py-3 rounded-lg hover:bg-gold/10 text-white" data-tab="customers">üë• M√º≈üteriler</button></li>
                        <li><button class="nav-btn w-full text-left px-4 py-3 rounded-lg hover:bg-gold/10 text-white" data-tab="advisors">üë®‚Äçüíº Danƒ±≈ümanlar</button></li>
                        <li><button class="nav-btn w-full text-left px-4 py-3 rounded-lg hover:bg-gold/10 text-white" data-tab="matching">üîó E≈üle≈ütirme</button></li>
                        <li><button class="nav-btn w-full text-left px-4 py-3 rounded-lg hover:bg-gold/10 text-white" data-tab="performance">üìà Performans</button></li>
                        <li><button class="nav-btn w-full text-left px-4 py-3 rounded-lg hover:bg-gold/10 text-white" data-tab="activities">üìù ƒ∞≈ülemler</button></li>
                        <li><button class="nav-btn w-full text-left px-4 py-3 rounded-lg hover:bg-gold/10 text-white" data-tab="notifications">üîî Bildirimler</button></li>
                    </ul>
                </div>
            </nav>

            <!-- Main Content -->
            <main class="flex-1 p-6 bg-gray-800 overflow-y-auto">
                <!-- Dashboard Tab -->
                <div id="dashboardTab" class="tab-content">
                    <h2 class="text-3xl font-bold text-gold mb-6">Dashboard</h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                        <div class="bg-gray-900 p-6 rounded-xl border border-gold/20">
                            <h3 class="text-gold text-sm font-medium">Toplam Portf√∂y</h3>
                            <p class="text-3xl font-bold text-white mt-2" id="totalPortfolios">0</p>
                        </div>
                        <div class="bg-gray-900 p-6 rounded-xl border border-gold/20">
                            <h3 class="text-gold text-sm font-medium">Aktif M√º≈üteriler</h3>
                            <p class="text-3xl font-bold text-white mt-2" id="totalCustomers">0</p>
                        </div>
                        <div class="bg-gray-900 p-6 rounded-xl border border-gold/20">
                            <h3 class="text-gold text-sm font-medium">Danƒ±≈üman Sayƒ±sƒ±</h3>
                            <p class="text-3xl font-bold text-white mt-2" id="totalAdvisors">0</p>
                        </div>
                        <div class="bg-gray-900 p-6 rounded-xl border border-gold/20">
                            <h3 class="text-gold text-sm font-medium">Bu Ay Satƒ±≈ü</h3>
                            <p class="text-3xl font-bold text-white mt-2" id="monthlySales">0</p>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <div class="bg-gray-900 p-6 rounded-xl border border-gold/20">
                            <h3 class="text-gold text-lg font-semibold mb-4">Son Aktiviteler</h3>
                            <div id="recentActivities" class="space-y-3">
                                <div class="flex items-center space-x-3 p-3 bg-gray-800 rounded-lg">
                                    <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                                    <span class="text-white text-sm">Yeni portf√∂y eklendi</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-gray-900 p-6 rounded-xl border border-gold/20">
                            <h3 class="text-gold text-lg font-semibold mb-4">En ƒ∞yi Performans</h3>
                            <div id="topPerformers" class="space-y-3">
                                <div class="flex justify-between items-center p-3 bg-gray-800 rounded-lg">
                                    <span class="text-white">Ahmet Yƒ±lmaz</span>
                                    <span class="text-gold font-semibold">5 Satƒ±≈ü</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Portfolios Tab -->
                <div id="portfoliosTab" class="tab-content hidden">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-3xl font-bold text-gold">Portf√∂yler</h2>
                        <button id="addPortfolioBtn" class="gradient-gold text-black px-6 py-2 rounded-lg font-semibold hover:opacity-90">
                            + Yeni Portf√∂y
                        </button>
                    </div>

                    <div class="bg-gray-900 rounded-xl border border-gold/20 overflow-hidden">
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead class="bg-gray-800">
                                    <tr>
                                        <th class="px-6 py-4 text-left text-gold font-semibold">ID</th>
                                        <th class="px-6 py-4 text-left text-gold font-semibold">Ba≈ülƒ±k</th>
                                        <th class="px-6 py-4 text-left text-gold font-semibold">T√ºr</th>
                                        <th class="px-6 py-4 text-left text-gold font-semibold">Fiyat</th>
                                        <th class="px-6 py-4 text-left text-gold font-semibold">Konum</th>
                                        <th class="px-6 py-4 text-left text-gold font-semibold">Durum</th>
                                        <th class="px-6 py-4 text-left text-gold font-semibold">ƒ∞≈ülemler</th>
                                    </tr>
                                </thead>
                                <tbody id="portfolioTableBody" class="text-white">
                                    <!-- Portfolio data will be inserted here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Customers Tab -->
                <div id="customersTab" class="tab-content hidden">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-3xl font-bold text-gold">M√º≈üteriler</h2>
                        <button id="addCustomerBtn" class="gradient-gold text-black px-6 py-2 rounded-lg font-semibold hover:opacity-90">
                            + Yeni M√º≈üteri
                        </button>
                    </div>

                    <div class="bg-gray-900 rounded-xl border border-gold/20 overflow-hidden">
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead class="bg-gray-800">
                                    <tr>
                                        <th class="px-6 py-4 text-left text-gold font-semibold">ID</th>
                                        <th class="px-6 py-4 text-left text-gold font-semibold">Ad Soyad</th>
                                        <th class="px-6 py-4 text-left text-gold font-semibold">Telefon</th>
                                        <th class="px-6 py-4 text-left text-gold font-semibold">E-posta</th>
                                        <th class="px-6 py-4 text-left text-gold font-semibold">Danƒ±≈üman</th>
                                        <th class="px-6 py-4 text-left text-gold font-semibold">Durum</th>
                                        <th class="px-6 py-4 text-left text-gold font-semibold">ƒ∞≈ülemler</th>
                                    </tr>
                                </thead>
                                <tbody id="customerTableBody" class="text-white">
                                    <!-- Customer data will be inserted here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Advisors Tab -->
                <div id="advisorsTab" class="tab-content hidden">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-3xl font-bold text-gold">Danƒ±≈ümanlar</h2>
                        <button id="addAdvisorBtn" class="gradient-gold text-black px-6 py-2 rounded-lg font-semibold hover:opacity-90">
                            + Yeni Danƒ±≈üman
                        </button>
                    </div>

                    <div class="bg-gray-900 rounded-xl border border-gold/20 overflow-hidden">
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead class="bg-gray-800">
                                    <tr>
                                        <th class="px-6 py-4 text-left text-gold font-semibold">ID</th>
                                        <th class="px-6 py-4 text-left text-gold font-semibold">Ad Soyad</th>
                                        <th class="px-6 py-4 text-left text-gold font-semibold">Telefon</th>
                                        <th class="px-6 py-4 text-left text-gold font-semibold">E-posta</th>
                                        <th class="px-6 py-4 text-left text-gold font-semibold">Uzmanlƒ±k</th>
                                        <th class="px-6 py-4 text-left text-gold font-semibold">M√º≈üteri Sayƒ±sƒ±</th>
                                        <th class="px-6 py-4 text-left text-gold font-semibold">ƒ∞≈ülemler</th>
                                    </tr>
                                </thead>
                                <tbody id="advisorTableBody" class="text-white">
                                    <!-- Advisor data will be inserted here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Matching Tab -->
                <div id="matchingTab" class="tab-content hidden">
                    <h2 class="text-3xl font-bold text-gold mb-6">M√º≈üteri-Portf√∂y E≈üle≈ütirme</h2>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <div class="bg-gray-900 p-6 rounded-xl border border-gold/20">
                            <h3 class="text-gold text-lg font-semibold mb-4">M√º≈üteri Se√ß</h3>
                            <select id="matchCustomerSelect" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white mb-4">
                                <option value="">M√º≈üteri se√ßin...</option>
                            </select>
                            <div id="selectedCustomerInfo" class="hidden p-4 bg-gray-800 rounded-lg">
                                <h4 class="text-gold font-semibold mb-2">M√º≈üteri Bilgileri</h4>
                                <div id="customerDetails" class="text-white text-sm"></div>
                            </div>
                        </div>
                        
                        <div class="bg-gray-900 p-6 rounded-xl border border-gold/20">
                            <h3 class="text-gold text-lg font-semibold mb-4">Uygun Portf√∂yler</h3>
                            <div id="matchingPortfolios" class="space-y-3 max-h-96 overflow-y-auto">
                                <!-- Matching portfolios will be shown here -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Performance Tab -->
                <div id="performanceTab" class="tab-content hidden">
                    <h2 class="text-3xl font-bold text-gold mb-6">Danƒ±≈üman Performansƒ±</h2>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
                        <div class="bg-gray-900 p-6 rounded-xl border border-gold/20">
                            <h3 class="text-gold text-sm font-medium">Bu Ay En ƒ∞yi</h3>
                            <p class="text-2xl font-bold text-white mt-2" id="topPerformerMonth">-</p>
                            <p class="text-gold text-sm mt-1" id="topPerformerSales">0 satƒ±≈ü</p>
                        </div>
                        <div class="bg-gray-900 p-6 rounded-xl border border-gold/20">
                            <h3 class="text-gold text-sm font-medium">Ortalama Satƒ±≈ü</h3>
                            <p class="text-2xl font-bold text-white mt-2" id="averageSales">0</p>
                        </div>
                        <div class="bg-gray-900 p-6 rounded-xl border border-gold/20">
                            <h3 class="text-gold text-sm font-medium">Aktif Danƒ±≈üman</h3>
                            <p class="text-2xl font-bold text-white mt-2" id="activeAdvisors">0</p>
                        </div>
                    </div>

                    <div class="bg-gray-900 rounded-xl border border-gold/20 overflow-hidden">
                        <div class="p-6 border-b border-gold/20">
                            <h3 class="text-gold text-lg font-semibold">Detaylƒ± Performans</h3>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead class="bg-gray-800">
                                    <tr>
                                        <th class="px-6 py-4 text-left text-gold font-semibold">Danƒ±≈üman</th>
                                        <th class="px-6 py-4 text-left text-gold font-semibold">M√º≈üteri Sayƒ±sƒ±</th>
                                        <th class="px-6 py-4 text-left text-gold font-semibold">G√∂r√º≈üme Sayƒ±sƒ±</th>
                                        <th class="px-6 py-4 text-left text-gold font-semibold">Satƒ±≈ü Sayƒ±sƒ±</th>
                                        <th class="px-6 py-4 text-left text-gold font-semibold">Ba≈üarƒ± Oranƒ±</th>
                                        <th class="px-6 py-4 text-left text-gold font-semibold">Toplam Ciro</th>
                                    </tr>
                                </thead>
                                <tbody id="performanceTableBody" class="text-white">
                                    <!-- Performance data will be inserted here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Activities Tab -->
                <div id="activitiesTab" class="tab-content hidden">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-3xl font-bold text-gold">ƒ∞≈ülem Giri≈ü Paneli</h2>
                        <button id="addActivityBtn" class="gradient-gold text-black px-6 py-2 rounded-lg font-semibold hover:opacity-90">
                            + Yeni ƒ∞≈ülem
                        </button>
                    </div>

                    <div class="bg-gray-900 rounded-xl border border-gold/20 overflow-hidden">
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead class="bg-gray-800">
                                    <tr>
                                        <th class="px-6 py-4 text-left text-gold font-semibold">Tarih</th>
                                        <th class="px-6 py-4 text-left text-gold font-semibold">ƒ∞≈ülem Tipi</th>
                                        <th class="px-6 py-4 text-left text-gold font-semibold">M√º≈üteri</th>
                                        <th class="px-6 py-4 text-left text-gold font-semibold">Portf√∂y</th>
                                        <th class="px-6 py-4 text-left text-gold font-semibold">Danƒ±≈üman</th>
                                        <th class="px-6 py-4 text-left text-gold font-semibold">Durum</th>
                                        <th class="px-6 py-4 text-left text-gold font-semibold">ƒ∞≈ülemler</th>
                                    </tr>
                                </thead>
                                <tbody id="activityTableBody" class="text-white">
                                    <!-- Activity data will be inserted here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Notifications Tab -->
                <div id="notificationsTab" class="tab-content hidden">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-3xl font-bold text-gold">Bildirim Y√∂netimi</h2>
                        <div class="flex space-x-3">
                            <button id="markAllReadBtn" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold">
                                T√ºm√ºn√º Okundu ƒ∞≈üaretle
                            </button>
                            <button id="addNotificationBtn" class="gradient-gold text-black px-6 py-2 rounded-lg font-semibold hover:opacity-90">
                                + Yeni Bildirim
                            </button>
                        </div>
                    </div>

                    <!-- Notification Stats -->
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                        <div class="bg-gray-900 p-6 rounded-xl border border-gold/20">
                            <h3 class="text-gold text-sm font-medium">Toplam Bildirim</h3>
                            <p class="text-3xl font-bold text-white mt-2" id="totalNotifications">0</p>
                        </div>
                        <div class="bg-gray-900 p-6 rounded-xl border border-gold/20">
                            <h3 class="text-gold text-sm font-medium">Okunmamƒ±≈ü</h3>
                            <p class="text-3xl font-bold text-white mt-2" id="unreadNotifications">0</p>
                        </div>
                        <div class="bg-gray-900 p-6 rounded-xl border border-gold/20">
                            <h3 class="text-gold text-sm font-medium">Bug√ºn</h3>
                            <p class="text-3xl font-bold text-white mt-2" id="todayNotifications">0</p>
                        </div>
                        <div class="bg-gray-900 p-6 rounded-xl border border-gold/20">
                            <h3 class="text-gold text-sm font-medium">Bu Hafta</h3>
                            <p class="text-3xl font-bold text-white mt-2" id="weekNotifications">0</p>
                        </div>
                    </div>

                    <!-- Notification Filters -->
                    <div class="bg-gray-900 p-4 rounded-xl border border-gold/20 mb-6">
                        <div class="flex flex-wrap items-center gap-4">
                            <div>
                                <label class="block text-gold text-sm font-medium mb-2">Filtrele</label>
                                <select id="notificationFilter" class="px-4 py-2 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                                    <option value="all">T√ºm Bildirimler</option>
                                    <option value="unread">Okunmamƒ±≈ü</option>
                                    <option value="read">Okunmu≈ü</option>
                                    <option value="today">Bug√ºn</option>
                                    <option value="week">Bu Hafta</option>
                                    <option value="system">Sistem</option>
                                    <option value="user">Kullanƒ±cƒ±</option>
                                    <option value="reminder">Hatƒ±rlatma</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-gold text-sm font-medium mb-2">Sƒ±rala</label>
                                <select id="notificationSort" class="px-4 py-2 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                                    <option value="newest">En Yeni</option>
                                    <option value="oldest">En Eski</option>
                                    <option value="unread-first">Okunmamƒ±≈ü √ñnce</option>
                                </select>
                            </div>
                            <div class="flex-1">
                                <label class="block text-gold text-sm font-medium mb-2">Ara</label>
                                <input type="text" id="notificationSearch" placeholder="Bildirim ara..." class="w-full px-4 py-2 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                            </div>
                        </div>
                    </div>

                    <!-- Notifications List -->
                    <div class="bg-gray-900 rounded-xl border border-gold/20">
                        <div class="p-6 border-b border-gold/20">
                            <h3 class="text-gold text-lg font-semibold">Bildirimler</h3>
                        </div>
                        <div id="notificationsList" class="max-h-96 overflow-y-auto">
                            <!-- Notifications will be loaded here -->
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Add Portfolio Modal -->
    <div id="portfolioModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
        <div class="bg-gray-900 rounded-xl border border-gold/20 w-full max-w-2xl max-h-full overflow-y-auto">
            <div class="p-6 border-b border-gold/20">
                <h3 class="text-xl font-bold text-gold">Yeni Portf√∂y Ekle</h3>
            </div>
            <form id="portfolioForm" class="p-6 space-y-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Ba≈ülƒ±k *</label>
                        <input type="text" name="title" required placeholder="√ñrn: Be≈üikta≈ü'ta Deniz Manzaralƒ± 3+1 Daire" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">ƒ∞lan Tipi *</label>
                        <select name="type" required class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                            <option value="">Se√ßin...</option>
                            <option value="Satƒ±lƒ±k">Satƒ±lƒ±k</option>
                            <option value="Kiralƒ±k">Kiralƒ±k</option>
                            <option value="Devren Satƒ±lƒ±k">Devren Satƒ±lƒ±k</option>
                            <option value="Devren Kiralƒ±k">Devren Kiralƒ±k</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Emlak Tipi *</label>
                        <select name="propertyType" required class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                            <option value="">Se√ßin...</option>
                            <option value="Daire">Daire</option>
                            <option value="Villa">Villa</option>
                            <option value="M√ºstakil Ev">M√ºstakil Ev</option>
                            <option value="Dubleks">Dubleks</option>
                            <option value="Tripleks">Tripleks</option>
                            <option value="Residence">Residence</option>
                            <option value="Ofis">Ofis</option>
                            <option value="D√ºkkan">D√ºkkan</option>
                            <option value="Depo">Depo</option>
                            <option value="Fabrika">Fabrika</option>
                            <option value="Arsa">Arsa</option>
                            <option value="Tarla">Tarla</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Fiyat (‚Ç∫) *</label>
                        <input type="number" name="price" required placeholder="1500000" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">ƒ∞l *</label>
                        <select name="city" required class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                            <option value="">Se√ßin...</option>
                            <option value="ƒ∞stanbul">ƒ∞stanbul</option>
                            <option value="Ankara">Ankara</option>
                            <option value="ƒ∞zmir">ƒ∞zmir</option>
                            <option value="Bursa">Bursa</option>
                            <option value="Antalya">Antalya</option>
                            <option value="Adana">Adana</option>
                            <option value="Konya">Konya</option>
                            <option value="Gaziantep">Gaziantep</option>
                            <option value="Kayseri">Kayseri</option>
                            <option value="Mersin">Mersin</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">ƒ∞l√ße *</label>
                        <input type="text" name="district" required placeholder="Be≈üikta≈ü" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Mahalle</label>
                        <input type="text" name="neighborhood" placeholder="Levent Mahallesi" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Sokak/Cadde</label>
                        <input type="text" name="street" placeholder="B√ºy√ºkdere Caddesi" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Oda Sayƒ±sƒ± *</label>
                        <select name="rooms" required class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                            <option value="">Se√ßin...</option>
                            <option value="St√ºdyo">St√ºdyo</option>
                            <option value="1+0">1+0</option>
                            <option value="1+1">1+1</option>
                            <option value="2+1">2+1</option>
                            <option value="3+1">3+1</option>
                            <option value="4+1">4+1</option>
                            <option value="5+1">5+1</option>
                            <option value="6+1">6+1</option>
                            <option value="7+1">7+1</option>
                            <option value="8+1 ve √ºzeri">8+1 ve √ºzeri</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Br√ºt Metre Kare *</label>
                        <input type="number" name="area" required placeholder="120" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Net Metre Kare</label>
                        <input type="number" name="netArea" placeholder="100" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Bulunduƒüu Kat *</label>
                        <select name="floor" required class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                            <option value="">Se√ßin...</option>
                            <option value="Bodrum Kat">Bodrum Kat</option>
                            <option value="Zemin Kat">Zemin Kat</option>
                            <option value="Bah√ße Katƒ±">Bah√ße Katƒ±</option>
                            <option value="Y√ºksek Zemin">Y√ºksek Zemin</option>
                            <option value="Asma Kat">Asma Kat</option>
                            <option value="1">1. Kat</option>
                            <option value="2">2. Kat</option>
                            <option value="3">3. Kat</option>
                            <option value="4">4. Kat</option>
                            <option value="5">5. Kat</option>
                            <option value="6">6. Kat</option>
                            <option value="7">7. Kat</option>
                            <option value="8">8. Kat</option>
                            <option value="9">9. Kat</option>
                            <option value="10">10. Kat</option>
                            <option value="11+">11+ Kat</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Toplam Kat Sayƒ±sƒ±</label>
                        <input type="number" name="totalFloors" placeholder="8" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Bina Ya≈üƒ±</label>
                        <select name="age" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                            <option value="">Se√ßin...</option>
                            <option value="0">Sƒ±fƒ±r Bina</option>
                            <option value="1">1 Ya≈üƒ±nda</option>
                            <option value="2">2 Ya≈üƒ±nda</option>
                            <option value="3">3 Ya≈üƒ±nda</option>
                            <option value="4">4 Ya≈üƒ±nda</option>
                            <option value="5">5 Ya≈üƒ±nda</option>
                            <option value="6-10">6-10 Ya≈ü Arasƒ±</option>
                            <option value="11-15">11-15 Ya≈ü Arasƒ±</option>
                            <option value="16-20">16-20 Ya≈ü Arasƒ±</option>
                            <option value="21-25">21-25 Ya≈ü Arasƒ±</option>
                            <option value="26-30">26-30 Ya≈ü Arasƒ±</option>
                            <option value="31+">31+ Ya≈ü</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Banyo Sayƒ±sƒ±</label>
                        <select name="bathrooms" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                            <option value="">Se√ßin...</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5+">5+</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Balkon Sayƒ±sƒ±</label>
                        <select name="balconies" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                            <option value="">Se√ßin...</option>
                            <option value="0">Yok</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4+">4+</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Isƒ±tma Tipi</label>
                        <select name="heating" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                            <option value="">Se√ßin...</option>
                            <option value="Merkezi Sistem">Merkezi Sistem</option>
                            <option value="Kombi (Doƒüalgaz)">Kombi (Doƒüalgaz)</option>
                            <option value="Yerden Isƒ±tma">Yerden Isƒ±tma</option>
                            <option value="Klima">Klima</option>
                            <option value="Soba">Soba</option>
                            <option value="Elektrikli Radyat√∂r">Elektrikli Radyat√∂r</option>
                            <option value="G√ºne≈ü Enerjisi">G√ºne≈ü Enerjisi</option>
                            <option value="Jeotermal">Jeotermal</option>
                            <option value="Yok">Yok</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Yakƒ±t Tipi</label>
                        <select name="fuel" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                            <option value="">Se√ßin...</option>
                            <option value="Doƒüalgaz">Doƒüalgaz</option>
                            <option value="Elektrik">Elektrik</option>
                            <option value="K√∂m√ºr">K√∂m√ºr</option>
                            <option value="Fuel-Oil">Fuel-Oil</option>
                            <option value="LPG">LPG</option>
                            <option value="G√ºne≈ü Enerjisi">G√ºne≈ü Enerjisi</option>
                            <option value="Jeotermal">Jeotermal</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Cephe</label>
                        <select name="facade" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                            <option value="">Se√ßin...</option>
                            <option value="Kuzey">Kuzey</option>
                            <option value="G√ºney">G√ºney</option>
                            <option value="Doƒüu">Doƒüu</option>
                            <option value="Batƒ±">Batƒ±</option>
                            <option value="Kuzey-Doƒüu">Kuzey-Doƒüu</option>
                            <option value="Kuzey-Batƒ±">Kuzey-Batƒ±</option>
                            <option value="G√ºney-Doƒüu">G√ºney-Doƒüu</option>
                            <option value="G√ºney-Batƒ±">G√ºney-Batƒ±</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Aidat (‚Ç∫/Ay)</label>
                        <input type="number" name="dues" placeholder="500" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Depozito (‚Ç∫)</label>
                        <input type="number" name="deposit" placeholder="10000" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Tapu Durumu</label>
                        <select name="deedStatus" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                            <option value="">Se√ßin...</option>
                            <option value="Kat M√ºlkiyeti">Kat M√ºlkiyeti</option>
                            <option value="Kat ƒ∞rtifakƒ±">Kat ƒ∞rtifakƒ±</option>
                            <option value="Arsa Payƒ±">Arsa Payƒ±</option>
                            <option value="M√ºstakil Tapu">M√ºstakil Tapu</option>
                            <option value="Hisseli Tapu">Hisseli Tapu</option>
                            <option value="Diƒüer">Diƒüer</option>
                        </select>
                    </div>
                </div>
                
                <!-- √ñzellikler -->
                <div class="border-t border-gold/20 pt-4">
                    <h4 class="text-gold font-semibold mb-4">√ñzellikler</h4>
                    <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="features" value="Asans√∂r" class="text-gold">
                            <span class="text-sm">Asans√∂r</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="features" value="Otopark" class="text-gold">
                            <span class="text-sm">Otopark</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="features" value="G√ºvenlik" class="text-gold">
                            <span class="text-sm">24 Saat G√ºvenlik</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="features" value="Havuz" class="text-gold">
                            <span class="text-sm">Y√ºzme Havuzu</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="features" value="Spor Salonu" class="text-gold">
                            <span class="text-sm">Spor Salonu</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="features" value="Sauna" class="text-gold">
                            <span class="text-sm">Sauna</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="features" value="Bah√ße" class="text-gold">
                            <span class="text-sm">Bah√ße</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="features" value="Teras" class="text-gold">
                            <span class="text-sm">Teras</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="features" value="Balkon" class="text-gold">
                            <span class="text-sm">Balkon</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="features" value="Deniz Manzarasƒ±" class="text-gold">
                            <span class="text-sm">Deniz Manzarasƒ±</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="features" value="≈ûehir Manzarasƒ±" class="text-gold">
                            <span class="text-sm">≈ûehir Manzarasƒ±</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="features" value="Doƒüa Manzarasƒ±" class="text-gold">
                            <span class="text-sm">Doƒüa Manzarasƒ±</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="features" value="E≈üyalƒ±" class="text-gold">
                            <span class="text-sm">E≈üyalƒ±</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="features" value="Beyaz E≈üya" class="text-gold">
                            <span class="text-sm">Beyaz E≈üya</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="features" value="Klima" class="text-gold">
                            <span class="text-sm">Klima</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="features" value="Alarm Sistemi" class="text-gold">
                            <span class="text-sm">Alarm Sistemi</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="features" value="Kamerali G√ºvenlik" class="text-gold">
                            <span class="text-sm">Kameralƒ± G√ºvenlik</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="features" value="√áelik Kapƒ±" class="text-gold">
                            <span class="text-sm">√áelik Kapƒ±</span>
                        </label>
                    </div>
                </div>
                
                <div>
                    <label class="block text-gold text-sm font-medium mb-2">Detaylƒ± A√ßƒ±klama</label>
                    <textarea name="description" rows="4" placeholder="Emlak hakkƒ±nda detaylƒ± bilgi verin..." class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none"></textarea>
                </div>
                <div class="flex justify-end space-x-4 pt-4">
                    <button type="button" id="cancelPortfolioBtn" class="px-6 py-2 border border-gold/30 text-gold rounded-lg hover:bg-gold/10">
                        ƒ∞ptal
                    </button>
                    <button type="submit" class="gradient-gold text-black px-6 py-2 rounded-lg font-semibold hover:opacity-90">
                        Kaydet
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add Customer Modal -->
    <div id="customerModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
        <div class="bg-gray-900 rounded-xl border border-gold/20 w-full max-w-2xl max-h-full overflow-y-auto">
            <div class="p-6 border-b border-gold/20">
                <h3 class="text-xl font-bold text-gold">Yeni M√º≈üteri Ekle</h3>
            </div>
            <form id="customerForm" class="p-6 space-y-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Ad *</label>
                        <input type="text" name="firstName" required placeholder="Ahmet" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Soyad *</label>
                        <input type="text" name="lastName" required placeholder="Yƒ±lmaz" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Telefon *</label>
                        <input type="tel" name="phone" required placeholder="0555 123 45 67" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">E-posta</label>
                        <input type="email" name="email" placeholder="ahmet@email.com" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">TC Kimlik No</label>
                        <input type="text" name="tcNo" placeholder="12345678901" maxlength="11" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Doƒüum Tarihi</label>
                        <input type="date" name="birthDate" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Cinsiyet</label>
                        <select name="gender" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                            <option value="">Se√ßin...</option>
                            <option value="Erkek">Erkek</option>
                            <option value="Kadƒ±n">Kadƒ±n</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Medeni Durum</label>
                        <select name="maritalStatus" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                            <option value="">Se√ßin...</option>
                            <option value="Bekar">Bekar</option>
                            <option value="Evli">Evli</option>
                            <option value="Bo≈üanmƒ±≈ü">Bo≈üanmƒ±≈ü</option>
                            <option value="Dul">Dul</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Meslek</label>
                        <input type="text" name="profession" placeholder="M√ºhendis" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">√áalƒ±≈ütƒ±ƒüƒ± Firma</label>
                        <input type="text" name="company" placeholder="ABC ≈ûirketi" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Aylƒ±k Gelir (‚Ç∫)</label>
                        <input type="number" name="monthlyIncome" placeholder="15000" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">B√ºt√ße (‚Ç∫)</label>
                        <input type="number" name="budget" placeholder="1500000" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Danƒ±≈üman</label>
                        <select name="advisor" id="customerAdvisorSelect" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                            <option value="">Se√ßin...</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">M√º≈üteri Tipi</label>
                        <select name="customerType" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                            <option value="">Se√ßin...</option>
                            <option value="Alƒ±cƒ±">Alƒ±cƒ±</option>
                            <option value="Kiracƒ±">Kiracƒ±</option>
                            <option value="Satƒ±cƒ±">Satƒ±cƒ±</option>
                            <option value="Kiraya Veren">Kiraya Veren</option>
                            <option value="Yatƒ±rƒ±mcƒ±">Yatƒ±rƒ±mcƒ±</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">√ñncelik Durumu</label>
                        <select name="priority" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                            <option value="">Se√ßin...</option>
                            <option value="D√º≈ü√ºk">D√º≈ü√ºk</option>
                            <option value="Orta">Orta</option>
                            <option value="Y√ºksek">Y√ºksek</option>
                            <option value="Acil">Acil</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Kaynak</label>
                        <select name="source" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                            <option value="">Se√ßin...</option>
                            <option value="Web Sitesi">Web Sitesi</option>
                            <option value="Sosyal Medya">Sosyal Medya</option>
                            <option value="Referans">Referans</option>
                            <option value="Telefon">Telefon</option>
                            <option value="Ofis Ziyareti">Ofis Ziyareti</option>
                            <option value="Emlak Portalƒ±">Emlak Portalƒ±</option>
                            <option value="Reklam">Reklam</option>
                            <option value="Diƒüer">Diƒüer</option>
                        </select>
                    </div>
                </div>
                
                <!-- Adres Bilgileri -->
                <div class="border-t border-gold/20 pt-4">
                    <h4 class="text-gold font-semibold mb-4">Adres Bilgileri</h4>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-gold text-sm font-medium mb-2">ƒ∞l</label>
                            <select name="city" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                                <option value="">Se√ßin...</option>
                                <option value="ƒ∞stanbul">ƒ∞stanbul</option>
                                <option value="Ankara">Ankara</option>
                                <option value="ƒ∞zmir">ƒ∞zmir</option>
                                <option value="Bursa">Bursa</option>
                                <option value="Antalya">Antalya</option>
                                <option value="Adana">Adana</option>
                                <option value="Konya">Konya</option>
                                <option value="Gaziantep">Gaziantep</option>
                                <option value="Kayseri">Kayseri</option>
                                <option value="Mersin">Mersin</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-gold text-sm font-medium mb-2">ƒ∞l√ße</label>
                            <input type="text" name="district" placeholder="Be≈üikta≈ü" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                        </div>
                        <div class="md:col-span-2">
                            <label class="block text-gold text-sm font-medium mb-2">Adres</label>
                            <textarea name="address" rows="2" placeholder="Tam adres bilgisi..." class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none"></textarea>
                        </div>
                    </div>
                </div>
                
                <!-- Emlak Tercihleri -->
                <div class="border-t border-gold/20 pt-4">
                    <h4 class="text-gold font-semibold mb-4">Emlak Tercihleri</h4>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-gold text-sm font-medium mb-2">Tercih Edilen Emlak Tipi</label>
                            <select name="preferredPropertyType" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                                <option value="">Se√ßin...</option>
                                <option value="Daire">Daire</option>
                                <option value="Villa">Villa</option>
                                <option value="M√ºstakil Ev">M√ºstakil Ev</option>
                                <option value="Dubleks">Dubleks</option>
                                <option value="Tripleks">Tripleks</option>
                                <option value="Residence">Residence</option>
                                <option value="Ofis">Ofis</option>
                                <option value="D√ºkkan">D√ºkkan</option>
                                <option value="Arsa">Arsa</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-gold text-sm font-medium mb-2">Tercih Edilen Oda Sayƒ±sƒ±</label>
                            <select name="preferredRooms" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                                <option value="">Se√ßin...</option>
                                <option value="St√ºdyo">St√ºdyo</option>
                                <option value="1+0">1+0</option>
                                <option value="1+1">1+1</option>
                                <option value="2+1">2+1</option>
                                <option value="3+1">3+1</option>
                                <option value="4+1">4+1</option>
                                <option value="5+1">5+1</option>
                                <option value="6+1 ve √ºzeri">6+1 ve √ºzeri</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-gold text-sm font-medium mb-2">Min Metrekare</label>
                            <input type="number" name="minArea" placeholder="80" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                        </div>
                        <div>
                            <label class="block text-gold text-sm font-medium mb-2">Max Metrekare</label>
                            <input type="number" name="maxArea" placeholder="150" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                        </div>
                        <div>
                            <label class="block text-gold text-sm font-medium mb-2">Tercih Edilen B√∂lgeler</label>
                            <input type="text" name="preferredLocations" placeholder="Be≈üikta≈ü, ≈ûi≈üli, Kadƒ±k√∂y" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                        </div>
                        <div>
                            <label class="block text-gold text-sm font-medium mb-2">Ka√ßƒ±ncƒ± Ev</label>
                            <select name="homeNumber" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                                <option value="">Se√ßin...</option>
                                <option value="ƒ∞lk Ev">ƒ∞lk Ev</option>
                                <option value="ƒ∞kinci Ev">ƒ∞kinci Ev</option>
                                <option value="Yatƒ±rƒ±m">Yatƒ±rƒ±m</option>
                                <option value="Deƒüi≈üim">Deƒüi≈üim</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <!-- √ñzel Tercihler -->
                <div class="border-t border-gold/20 pt-4">
                    <h4 class="text-gold font-semibold mb-4">√ñzel Tercihler</h4>
                    <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="preferences" value="Asans√∂r" class="text-gold">
                            <span class="text-sm">Asans√∂r</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="preferences" value="Otopark" class="text-gold">
                            <span class="text-sm">Otopark</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="preferences" value="G√ºvenlik" class="text-gold">
                            <span class="text-sm">24 Saat G√ºvenlik</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="preferences" value="Havuz" class="text-gold">
                            <span class="text-sm">Y√ºzme Havuzu</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="preferences" value="Spor Salonu" class="text-gold">
                            <span class="text-sm">Spor Salonu</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="preferences" value="Bah√ße" class="text-gold">
                            <span class="text-sm">Bah√ße</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="preferences" value="Balkon" class="text-gold">
                            <span class="text-sm">Balkon</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="preferences" value="Deniz Manzarasƒ±" class="text-gold">
                            <span class="text-sm">Deniz Manzarasƒ±</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="preferences" value="E≈üyalƒ±" class="text-gold">
                            <span class="text-sm">E≈üyalƒ±</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="preferences" value="Merkezi Konum" class="text-gold">
                            <span class="text-sm">Merkezi Konum</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="preferences" value="Toplu Ta≈üƒ±ma" class="text-gold">
                            <span class="text-sm">Toplu Ta≈üƒ±ma Yakƒ±nƒ±</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="preferences" value="Okul Yakƒ±nƒ±" class="text-gold">
                            <span class="text-sm">Okul Yakƒ±nƒ±</span>
                        </label>
                    </div>
                </div>
                
                <div>
                    <label class="block text-gold text-sm font-medium mb-2">√ñzel Notlar</label>
                    <textarea name="notes" rows="3" placeholder="M√º≈üteri hakkƒ±nda √∂zel notlar, istekler, √∂nemli bilgiler..." class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none"></textarea>
                </div>
                <div class="flex justify-end space-x-4 pt-4">
                    <button type="button" id="cancelCustomerBtn" class="px-6 py-2 border border-gold/30 text-gold rounded-lg hover:bg-gold/10">
                        ƒ∞ptal
                    </button>
                    <button type="submit" class="gradient-gold text-black px-6 py-2 rounded-lg font-semibold hover:opacity-90">
                        Kaydet
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add Advisor Modal -->
    <div id="advisorModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
        <div class="bg-gray-900 rounded-xl border border-gold/20 w-full max-w-2xl max-h-full overflow-y-auto">
            <div class="p-6 border-b border-gold/20">
                <h3 class="text-xl font-bold text-gold">Yeni Danƒ±≈üman Ekle</h3>
            </div>
            <form id="advisorForm" class="p-6 space-y-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Ad *</label>
                        <input type="text" name="firstName" required placeholder="Mehmet" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Soyad *</label>
                        <input type="text" name="lastName" required placeholder="Demir" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">TC Kimlik No *</label>
                        <input type="text" name="tcNo" required placeholder="12345678901" maxlength="11" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Doƒüum Tarihi</label>
                        <input type="date" name="birthDate" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Telefon *</label>
                        <input type="tel" name="phone" required placeholder="0555 987 65 43" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">E-posta *</label>
                        <input type="email" name="email" required placeholder="mehmet@lookhause.com" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Acil Durum Telefonu</label>
                        <input type="tel" name="emergencyPhone" placeholder="0532 123 45 67" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Cinsiyet</label>
                        <select name="gender" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                            <option value="">Se√ßin...</option>
                            <option value="Erkek">Erkek</option>
                            <option value="Kadƒ±n">Kadƒ±n</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Medeni Durum</label>
                        <select name="maritalStatus" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                            <option value="">Se√ßin...</option>
                            <option value="Bekar">Bekar</option>
                            <option value="Evli">Evli</option>
                            <option value="Bo≈üanmƒ±≈ü">Bo≈üanmƒ±≈ü</option>
                            <option value="Dul">Dul</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Eƒüitim Durumu</label>
                        <select name="education" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                            <option value="">Se√ßin...</option>
                            <option value="ƒ∞lkokul">ƒ∞lkokul</option>
                            <option value="Ortaokul">Ortaokul</option>
                            <option value="Lise">Lise</option>
                            <option value="√ñn Lisans">√ñn Lisans</option>
                            <option value="Lisans">Lisans</option>
                            <option value="Y√ºksek Lisans">Y√ºksek Lisans</option>
                            <option value="Doktora">Doktora</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Mezun Olduƒüu Okul</label>
                        <input type="text" name="school" placeholder="ƒ∞stanbul √úniversitesi" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">B√∂l√ºm</label>
                        <input type="text" name="department" placeholder="ƒ∞≈ületme" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Deneyim (Yƒ±l)</label>
                        <select name="experience" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                            <option value="">Se√ßin...</option>
                            <option value="0-1">0-1 Yƒ±l</option>
                            <option value="1-3">1-3 Yƒ±l</option>
                            <option value="3-5">3-5 Yƒ±l</option>
                            <option value="5-10">5-10 Yƒ±l</option>
                            <option value="10+">10+ Yƒ±l</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">√ñnceki ƒ∞≈ü Yeri</label>
                        <input type="text" name="previousJob" placeholder="ABC Emlak" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">ƒ∞≈üe Ba≈ülama Tarihi</label>
                        <input type="date" name="startDate" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Maa≈ü (‚Ç∫)</label>
                        <input type="number" name="salary" placeholder="25000" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Komisyon Oranƒ± (%)</label>
                        <input type="number" name="commissionRate" placeholder="3" min="0" max="100" step="0.1" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">√áalƒ±≈üma Durumu</label>
                        <select name="workStatus" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                            <option value="">Se√ßin...</option>
                            <option value="Tam Zamanlƒ±">Tam Zamanlƒ±</option>
                            <option value="Yarƒ± Zamanlƒ±">Yarƒ± Zamanlƒ±</option>
                            <option value="Freelance">Freelance</option>
                            <option value="Stajyer">Stajyer</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Kullanƒ±cƒ± Adƒ± *</label>
                        <input type="text" name="username" required placeholder="mehmet.demir" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">≈ûifre *</label>
                        <input type="password" name="password" required placeholder="G√º√ßl√º ≈üifre olu≈üturun" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Uzmanlƒ±k Alanƒ± *</label>
                        <select name="specialty" required class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                            <option value="">Se√ßin...</option>
                            <option value="Konut Satƒ±≈ü">Konut Satƒ±≈ü</option>
                            <option value="Konut Kiralama">Konut Kiralama</option>
                            <option value="Ticari Gayrimenkul">Ticari Gayrimenkul</option>
                            <option value="L√ºks Gayrimenkul">L√ºks Gayrimenkul</option>
                            <option value="Arsa ve Arazi">Arsa ve Arazi</option>
                            <option value="Yatƒ±rƒ±m Danƒ±≈ümanlƒ±ƒüƒ±">Yatƒ±rƒ±m Danƒ±≈ümanlƒ±ƒüƒ±</option>
                            <option value="Ofis Gayrimenkul">Ofis Gayrimenkul</option>
                            <option value="End√ºstriyel Gayrimenkul">End√ºstriyel Gayrimenkul</option>
                            <option value="Turizm Gayrimenkul">Turizm Gayrimenkul</option>
                            <option value="Proje Pazarlama">Proje Pazarlama</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">ƒ∞kinci Uzmanlƒ±k Alanƒ±</label>
                        <select name="secondarySpecialty" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                            <option value="">Se√ßin...</option>
                            <option value="Konut Satƒ±≈ü">Konut Satƒ±≈ü</option>
                            <option value="Konut Kiralama">Konut Kiralama</option>
                            <option value="Ticari Gayrimenkul">Ticari Gayrimenkul</option>
                            <option value="L√ºks Gayrimenkul">L√ºks Gayrimenkul</option>
                            <option value="Arsa ve Arazi">Arsa ve Arazi</option>
                            <option value="Yatƒ±rƒ±m Danƒ±≈ümanlƒ±ƒüƒ±">Yatƒ±rƒ±m Danƒ±≈ümanlƒ±ƒüƒ±</option>
                            <option value="Ofis Gayrimenkul">Ofis Gayrimenkul</option>
                            <option value="End√ºstriyel Gayrimenkul">End√ºstriyel Gayrimenkul</option>
                            <option value="Turizm Gayrimenkul">Turizm Gayrimenkul</option>
                            <option value="Proje Pazarlama">Proje Pazarlama</option>
                        </select>
                    </div>
                </div>
                
                <!-- Adres Bilgileri -->
                <div class="border-t border-gold/20 pt-4">
                    <h4 class="text-gold font-semibold mb-4">Adres Bilgileri</h4>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-gold text-sm font-medium mb-2">ƒ∞l</label>
                            <select name="city" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                                <option value="">Se√ßin...</option>
                                <option value="ƒ∞stanbul">ƒ∞stanbul</option>
                                <option value="Ankara">Ankara</option>
                                <option value="ƒ∞zmir">ƒ∞zmir</option>
                                <option value="Bursa">Bursa</option>
                                <option value="Antalya">Antalya</option>
                                <option value="Adana">Adana</option>
                                <option value="Konya">Konya</option>
                                <option value="Gaziantep">Gaziantep</option>
                                <option value="Kayseri">Kayseri</option>
                                <option value="Mersin">Mersin</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-gold text-sm font-medium mb-2">ƒ∞l√ße</label>
                            <input type="text" name="district" placeholder="Kadƒ±k√∂y" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                        </div>
                        <div class="md:col-span-2">
                            <label class="block text-gold text-sm font-medium mb-2">Adres</label>
                            <textarea name="address" rows="2" placeholder="Tam adres bilgisi..." class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none"></textarea>
                        </div>
                    </div>
                </div>
                
                <!-- Sertifikalar ve Yetkiler -->
                <div class="border-t border-gold/20 pt-4">
                    <h4 class="text-gold font-semibold mb-4">Sertifikalar ve Yetkiler</h4>
                    <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="certifications" value="Emlak Lisansƒ±" class="text-gold">
                            <span class="text-sm">Emlak Lisansƒ±</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="certifications" value="Emlak Deƒüerleme" class="text-gold">
                            <span class="text-sm">Emlak Deƒüerleme</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="certifications" value="Proje Pazarlama" class="text-gold">
                            <span class="text-sm">Proje Pazarlama</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="certifications" value="Yatƒ±rƒ±m Danƒ±≈ümanlƒ±ƒüƒ±" class="text-gold">
                            <span class="text-sm">Yatƒ±rƒ±m Danƒ±≈ümanlƒ±ƒüƒ±</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="certifications" value="Ticari Gayrimenkul" class="text-gold">
                            <span class="text-sm">Ticari Gayrimenkul</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="certifications" value="Mortgage Danƒ±≈ümanlƒ±ƒüƒ±" class="text-gold">
                            <span class="text-sm">Mortgage Danƒ±≈ümanlƒ±ƒüƒ±</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="certifications" value="Sigorta Acenteliƒüi" class="text-gold">
                            <span class="text-sm">Sigorta Acenteliƒüi</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="certifications" value="ƒ∞ngilizce" class="text-gold">
                            <span class="text-sm">ƒ∞ngilizce</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="certifications" value="Arap√ßa" class="text-gold">
                            <span class="text-sm">Arap√ßa</span>
                        </label>
                    </div>
                </div>
                
                <!-- √áalƒ±≈üma B√∂lgeleri -->
                <div class="border-t border-gold/20 pt-4">
                    <h4 class="text-gold font-semibold mb-4">√áalƒ±≈üma B√∂lgeleri</h4>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-gold text-sm font-medium mb-2">Birinci B√∂lge</label>
                            <input type="text" name="workArea1" placeholder="Be≈üikta≈ü, ≈ûi≈üli" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                        </div>
                        <div>
                            <label class="block text-gold text-sm font-medium mb-2">ƒ∞kinci B√∂lge</label>
                            <input type="text" name="workArea2" placeholder="Kadƒ±k√∂y, √úsk√ºdar" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                        </div>
                        <div>
                            <label class="block text-gold text-sm font-medium mb-2">√ú√ß√ºnc√º B√∂lge</label>
                            <input type="text" name="workArea3" placeholder="Bakƒ±rk√∂y, Zeytinburnu" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                        </div>
                        <div>
                            <label class="block text-gold text-sm font-medium mb-2">Diƒüer B√∂lgeler</label>
                            <input type="text" name="otherAreas" placeholder="Diƒüer √ßalƒ±≈üma b√∂lgeleri" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                        </div>
                    </div>
                </div>
                
                <div>
                    <label class="block text-gold text-sm font-medium mb-2">√ñzel Notlar</label>
                    <textarea name="notes" rows="3" placeholder="Danƒ±≈üman hakkƒ±nda √∂zel notlar, yetenekler, √∂nemli bilgiler..." class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none"></textarea>
                </div>
                <div class="flex justify-end space-x-4 pt-4">
                    <button type="button" id="cancelAdvisorBtn" class="px-6 py-2 border border-gold/30 text-gold rounded-lg hover:bg-gold/10">
                        ƒ∞ptal
                    </button>
                    <button type="submit" class="gradient-gold text-black px-6 py-2 rounded-lg font-semibold hover:opacity-90">
                        Kaydet
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add Notification Modal -->
    <div id="notificationModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
        <div class="bg-gray-900 rounded-xl border border-gold/20 w-full max-w-lg max-h-full overflow-y-auto">
            <div class="p-6 border-b border-gold/20">
                <h3 class="text-xl font-bold text-gold">Yeni Bildirim Olu≈ütur</h3>
            </div>
            <form id="notificationForm" class="p-6 space-y-4">
                <div>
                    <label class="block text-gold text-sm font-medium mb-2">Bildirim Tipi *</label>
                    <select name="type" required class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                        <option value="">Se√ßin...</option>
                        <option value="system">Sistem Bildirimi</option>
                        <option value="user">Kullanƒ±cƒ± Bildirimi</option>
                        <option value="reminder">Hatƒ±rlatma</option>
                        <option value="warning">Uyarƒ±</option>
                        <option value="success">Ba≈üarƒ±</option>
                        <option value="info">Bilgi</option>
                    </select>
                </div>
                <div>
                    <label class="block text-gold text-sm font-medium mb-2">Ba≈ülƒ±k *</label>
                    <input type="text" name="title" required placeholder="Bildirim ba≈ülƒ±ƒüƒ±" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                </div>
                <div>
                    <label class="block text-gold text-sm font-medium mb-2">Mesaj *</label>
                    <textarea name="message" required rows="4" placeholder="Bildirim mesajƒ±..." class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none"></textarea>
                </div>
                <div>
                    <label class="block text-gold text-sm font-medium mb-2">√ñncelik</label>
                    <select name="priority" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                        <option value="low">D√º≈ü√ºk</option>
                        <option value="normal" selected>Normal</option>
                        <option value="high">Y√ºksek</option>
                        <option value="urgent">Acil</option>
                    </select>
                </div>
                <div>
                    <label class="block text-gold text-sm font-medium mb-2">Hedef Kullanƒ±cƒ±lar</label>
                    <select name="target" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                        <option value="all">T√ºm Kullanƒ±cƒ±lar</option>
                        <option value="admins">Sadece Y√∂neticiler</option>
                        <option value="advisors">Sadece Danƒ±≈ümanlar</option>
                        <option value="specific">Belirli Kullanƒ±cƒ±</option>
                    </select>
                </div>
                <div id="specificUserDiv" class="hidden">
                    <label class="block text-gold text-sm font-medium mb-2">Kullanƒ±cƒ± Se√ß</label>
                    <select name="specificUser" id="specificUserSelect" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                        <option value="">Se√ßin...</option>
                    </select>
                </div>
                <div>
                    <label class="block text-gold text-sm font-medium mb-2">Zamanlama</label>
                    <select name="timing" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                        <option value="now">≈ûimdi G√∂nder</option>
                        <option value="scheduled">Zamanla</option>
                    </select>
                </div>
                <div id="scheduledTimeDiv" class="hidden">
                    <label class="block text-gold text-sm font-medium mb-2">G√∂nderim Zamanƒ±</label>
                    <input type="datetime-local" name="scheduledTime" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                </div>
                <div class="flex items-center space-x-2">
                    <input type="checkbox" name="persistent" id="persistentCheck" class="text-gold">
                    <label for="persistentCheck" class="text-white text-sm">Kalƒ±cƒ± bildirim (silinene kadar g√∂r√ºn√ºr)</label>
                </div>
                <div class="flex justify-end space-x-4 pt-4">
                    <button type="button" id="cancelNotificationBtn" class="px-6 py-2 border border-gold/30 text-gold rounded-lg hover:bg-gold/10">
                        ƒ∞ptal
                    </button>
                    <button type="submit" class="gradient-gold text-black px-6 py-2 rounded-lg font-semibold hover:opacity-90">
                        G√∂nder
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add Activity Modal -->
    <div id="activityModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
        <div class="bg-gray-900 rounded-xl border border-gold/20 w-full max-w-2xl max-h-full overflow-y-auto">
            <div class="p-6 border-b border-gold/20">
                <h3 class="text-xl font-bold text-gold">Yeni ƒ∞≈ülem Ekle</h3>
            </div>
            <form id="activityForm" class="p-6 space-y-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">ƒ∞≈ülem Tipi *</label>
                        <select name="type" required class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                            <option value="">Se√ßin...</option>
                            <option value="ƒ∞lk G√∂r√º≈üme">ƒ∞lk G√∂r√º≈üme</option>
                            <option value="Takip G√∂r√º≈ümesi">Takip G√∂r√º≈ümesi</option>
                            <option value="Emlak Gezisi">Emlak Gezisi</option>
                            <option value="Teklif Sunumu">Teklif Sunumu</option>
                            <option value="Pazarlƒ±k">Pazarlƒ±k</option>
                            <option value="√ñn Anla≈üma">√ñn Anla≈üma</option>
                            <option value="S√∂zle≈üme ƒ∞mzalama">S√∂zle≈üme ƒ∞mzalama</option>
                            <option value="Satƒ±≈ü">Satƒ±≈ü</option>
                            <option value="Kiralama">Kiralama</option>
                            <option value="Randevu">Randevu</option>
                            <option value="Telefon G√∂r√º≈ümesi">Telefon G√∂r√º≈ümesi</option>
                            <option value="WhatsApp Mesajƒ±">WhatsApp Mesajƒ±</option>
                            <option value="E-posta">E-posta</option>
                            <option value="Ofis Ziyareti">Ofis Ziyareti</option>
                            <option value="Deƒüerlendirme">Deƒüerlendirme</option>
                            <option value="ƒ∞ptal">ƒ∞ptal</option>
                            <option value="Erteleme">Erteleme</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Tarih ve Saat *</label>
                        <input type="datetime-local" name="date" required class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">M√º≈üteri</label>
                        <select name="customer" id="activityCustomerSelect" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                            <option value="">Se√ßin...</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Portf√∂y</label>
                        <select name="portfolio" id="activityPortfolioSelect" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                            <option value="">Se√ßin...</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">S√ºre (Dakika)</label>
                        <input type="number" name="duration" placeholder="30" min="1" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Konum</label>
                        <select name="location" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                            <option value="">Se√ßin...</option>
                            <option value="Ofis">Ofis</option>
                            <option value="Emlak Lokasyonu">Emlak Lokasyonu</option>
                            <option value="M√º≈üteri Evi">M√º≈üteri Evi</option>
                            <option value="Kafe/Restoran">Kafe/Restoran</option>
                            <option value="Telefon">Telefon</option>
                            <option value="Video Konferans">Video Konferans</option>
                            <option value="WhatsApp">WhatsApp</option>
                            <option value="E-posta">E-posta</option>
                            <option value="Diƒüer">Diƒüer</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Sonu√ß</label>
                        <select name="result" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                            <option value="">Se√ßin...</option>
                            <option value="Ba≈üarƒ±lƒ±">Ba≈üarƒ±lƒ±</option>
                            <option value="Kƒ±smen Ba≈üarƒ±lƒ±">Kƒ±smen Ba≈üarƒ±lƒ±</option>
                            <option value="Ba≈üarƒ±sƒ±z">Ba≈üarƒ±sƒ±z</option>
                            <option value="Ertelendi">Ertelendi</option>
                            <option value="ƒ∞ptal Edildi">ƒ∞ptal Edildi</option>
                            <option value="Takip Gerekli">Takip Gerekli</option>
                            <option value="Karar A≈üamasƒ±nda">Karar A≈üamasƒ±nda</option>
                            <option value="Teklif Bekleniyor">Teklif Bekleniyor</option>
                            <option value="Anla≈üma Saƒülandƒ±">Anla≈üma Saƒülandƒ±</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">√ñncelik</label>
                        <select name="priority" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                            <option value="">Se√ßin...</option>
                            <option value="D√º≈ü√ºk">D√º≈ü√ºk</option>
                            <option value="Normal">Normal</option>
                            <option value="Y√ºksek">Y√ºksek</option>
                            <option value="Acil">Acil</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Teklif Edilen Fiyat (‚Ç∫)</label>
                        <input type="number" name="offeredPrice" placeholder="1400000" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">M√º≈üteri B√ºt√ßesi (‚Ç∫)</label>
                        <input type="number" name="customerBudget" placeholder="1500000" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Komisyon Tutarƒ± (‚Ç∫)</label>
                        <input type="number" name="commission" placeholder="45000" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gold text-sm font-medium mb-2">Sonraki Takip Tarihi</label>
                        <input type="datetime-local" name="followUpDate" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                    </div>
                </div>
                
                <!-- M√º≈üteri Geri Bildirimi -->
                <div class="border-t border-gold/20 pt-4">
                    <h4 class="text-gold font-semibold mb-4">M√º≈üteri Geri Bildirimi</h4>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-gold text-sm font-medium mb-2">ƒ∞lgi D√ºzeyi</label>
                            <select name="interestLevel" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                                <option value="">Se√ßin...</option>
                                <option value="√áok Y√ºksek">√áok Y√ºksek</option>
                                <option value="Y√ºksek">Y√ºksek</option>
                                <option value="Orta">Orta</option>
                                <option value="D√º≈ü√ºk">D√º≈ü√ºk</option>
                                <option value="Yok">Yok</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-gold text-sm font-medium mb-2">Karar Verme S√ºreci</label>
                            <select name="decisionProcess" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                                <option value="">Se√ßin...</option>
                                <option value="Hemen Karar Verebilir">Hemen Karar Verebilir</option>
                                <option value="1 Hafta ƒ∞√ßinde">1 Hafta ƒ∞√ßinde</option>
                                <option value="1 Ay ƒ∞√ßinde">1 Ay ƒ∞√ßinde</option>
                                <option value="3 Ay ƒ∞√ßinde">3 Ay ƒ∞√ßinde</option>
                                <option value="Belirsiz">Belirsiz</option>
                                <option value="Sadece Ara≈ütƒ±rma">Sadece Ara≈ütƒ±rma</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-gold text-sm font-medium mb-2">Finansman Durumu</label>
                            <select name="financingStatus" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                                <option value="">Se√ßin...</option>
                                <option value="Nakit √ñdeme">Nakit √ñdeme</option>
                                <option value="Kredi Onayƒ± Var">Kredi Onayƒ± Var</option>
                                <option value="Kredi Ba≈üvurusu Yapacak">Kredi Ba≈üvurusu Yapacak</option>
                                <option value="Mevcut Ev Satƒ±≈üƒ± Bekliyor">Mevcut Ev Satƒ±≈üƒ± Bekliyor</option>
                                <option value="Finansman Sorunu Var">Finansman Sorunu Var</option>
                                <option value="Belirsiz">Belirsiz</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-gold text-sm font-medium mb-2">Rekabet Durumu</label>
                            <select name="competition" class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none">
                                <option value="">Se√ßin...</option>
                                <option value="Sadece Bizimle √áalƒ±≈üƒ±yor">Sadece Bizimle √áalƒ±≈üƒ±yor</option>
                                <option value="2-3 Emlak√ßƒ± ile √áalƒ±≈üƒ±yor">2-3 Emlak√ßƒ± ile √áalƒ±≈üƒ±yor</option>
                                <option value="√áok Sayƒ±da Emlak√ßƒ±">√áok Sayƒ±da Emlak√ßƒ±</option>
                                <option value="Diƒüer Teklifler Var">Diƒüer Teklifler Var</option>
                                <option value="Belirsiz">Belirsiz</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <!-- Yapƒ±lacaklar -->
                <div class="border-t border-gold/20 pt-4">
                    <h4 class="text-gold font-semibold mb-4">Yapƒ±lacaklar ve Hatƒ±rlatmalar</h4>
                    <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="tasks" value="Fiyat Ara≈ütƒ±rmasƒ±" class="text-gold">
                            <span class="text-sm">Fiyat Ara≈ütƒ±rmasƒ±</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="tasks" value="Benzer Emlaklar G√∂nder" class="text-gold">
                            <span class="text-sm">Benzer Emlaklar G√∂nder</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="tasks" value="Kredi Hesaplama" class="text-gold">
                            <span class="text-sm">Kredi Hesaplama</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="tasks" value="Tapu Ara≈ütƒ±rmasƒ±" class="text-gold">
                            <span class="text-sm">Tapu Ara≈ütƒ±rmasƒ±</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="tasks" value="Belediye Sorgusu" class="text-gold">
                            <span class="text-sm">Belediye Sorgusu</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="tasks" value="Ekspertiz Raporu" class="text-gold">
                            <span class="text-sm">Ekspertiz Raporu</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="tasks" value="S√∂zle≈üme Hazƒ±rlƒ±ƒüƒ±" class="text-gold">
                            <span class="text-sm">S√∂zle≈üme Hazƒ±rlƒ±ƒüƒ±</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="tasks" value="Referans Kontrol√º" class="text-gold">
                            <span class="text-sm">Referans Kontrol√º</span>
                        </label>
                        <label class="flex items-center space-x-2 text-white">
                            <input type="checkbox" name="tasks" value="Fotoƒüraf √áekimi" class="text-gold">
                            <span class="text-sm">Fotoƒüraf √áekimi</span>
                        </label>
                    </div>
                </div>
                
                <div>
                    <label class="block text-gold text-sm font-medium mb-2">Detaylƒ± Notlar</label>
                    <textarea name="notes" rows="4" placeholder="G√∂r√º≈üme detaylarƒ±, m√º≈üteri talepleri, √∂nemli bilgiler, yapƒ±lan anla≈ümalar..." class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none"></textarea>
                </div>
                
                <div>
                    <label class="block text-gold text-sm font-medium mb-2">Sonraki Adƒ±mlar</label>
                    <textarea name="nextSteps" rows="2" placeholder="Bir sonraki g√∂r√º≈ümede yapƒ±lacaklar, m√º≈üteriye g√∂nderilecek belgeler..." class="w-full px-4 py-3 bg-black border border-gold/30 rounded-lg text-white focus:border-gold focus:outline-none"></textarea>
                </div>
                <div class="flex justify-end space-x-4 pt-4">
                    <button type="button" id="cancelActivityBtn" class="px-6 py-2 border border-gold/30 text-gold rounded-lg hover:bg-gold/10">
                        ƒ∞ptal
                    </button>
                    <button type="submit" class="gradient-gold text-black px-6 py-2 rounded-lg font-semibold hover:opacity-90">
                        Kaydet
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Database simulation using localStorage
        class Database {
            constructor() {
                this.init();
            }

            init() {
                if (!localStorage.getItem('lookhause_portfolios')) {
                    localStorage.setItem('lookhause_portfolios', JSON.stringify([
                        {
                            id: 1001,
                            title: 'Be≈üikta≈ü Deniz Manzaralƒ± 3+1 Daire',
                            type: 'Satƒ±lƒ±k',
                            propertyType: 'Daire',
                            price: 2500000,
                            city: 'ƒ∞stanbul',
                            district: 'Be≈üikta≈ü',
                            neighborhood: 'Levent Mahallesi',
                            street: 'B√ºy√ºkdere Caddesi',
                            location: 'Be≈üikta≈ü, ƒ∞stanbul',
                            rooms: '3+1',
                            area: 140,
                            netArea: 120,
                            floor: '8',
                            totalFloors: 12,
                            age: '5',
                            bathrooms: '2',
                            balconies: '2',
                            heating: 'Merkezi Sistem',
                            fuel: 'Doƒüalgaz',
                            facade: 'G√ºney',
                            dues: 850,
                            deedStatus: 'Kat M√ºlkiyeti',
                            features: ['Asans√∂r', 'Otopark', 'G√ºvenlik', 'Deniz Manzarasƒ±', 'Balkon'],
                            description: 'Boƒüaz manzaralƒ±, l√ºks rezidansta, merkezi konumda 3+1 daire. T√ºm odalar deniz manzaralƒ±, geni≈ü balkonlu.',
                            createdAt: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000).toISOString()
                        },
                        {
                            id: 1002,
                            title: 'Kadƒ±k√∂y Modern 2+1 Kiralƒ±k Daire',
                            type: 'Kiralƒ±k',
                            propertyType: 'Daire',
                            price: 18000,
                            city: 'ƒ∞stanbul',
                            district: 'Kadƒ±k√∂y',
                            neighborhood: 'Moda Mahallesi',
                            street: 'Bahariye Caddesi',
                            location: 'Kadƒ±k√∂y, ƒ∞stanbul',
                            rooms: '2+1',
                            area: 95,
                            netArea: 80,
                            floor: '3',
                            totalFloors: 6,
                            age: '2',
                            bathrooms: '1',
                            balconies: '1',
                            heating: 'Kombi (Doƒüalgaz)',
                            fuel: 'Doƒüalgaz',
                            facade: 'Kuzey-Doƒüu',
                            dues: 450,
                            deposit: 36000,
                            deedStatus: 'Kat M√ºlkiyeti',
                            features: ['Asans√∂r', 'E≈üyalƒ±', 'Beyaz E≈üya', 'Klima', 'Balkon'],
                            description: 'Kadƒ±k√∂y merkezde, yeni binada, tam e≈üyalƒ± 2+1 daire. Metro ve vapur iskelesine y√ºr√ºme mesafesi.',
                            createdAt: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString()
                        },
                        {
                            id: 1003,
                            title: '≈ûi≈üli Plaza Katƒ± Ofis',
                            type: 'Kiralƒ±k',
                            propertyType: 'Ofis',
                            price: 45000,
                            city: 'ƒ∞stanbul',
                            district: '≈ûi≈üli',
                            neighborhood: 'Mecidiyek√∂y Mahallesi',
                            street: 'B√ºy√ºkdere Caddesi',
                            location: '≈ûi≈üli, ƒ∞stanbul',
                            rooms: 'A√ßƒ±k Ofis',
                            area: 350,
                            netArea: 320,
                            floor: '15',
                            totalFloors: 25,
                            age: '8',
                            bathrooms: '3',
                            balconies: '0',
                            heating: 'VRV Sistem',
                            fuel: 'Elektrik',
                            facade: 'G√ºney-Batƒ±',
                            dues: 2500,
                            deposit: 135000,
                            deedStatus: 'Kat M√ºlkiyeti',
                            features: ['Asans√∂r', 'Otopark', 'G√ºvenlik', '≈ûehir Manzarasƒ±', 'Klima'],
                            description: 'A+ plaza da, ≈üehir manzaralƒ±, modern ofis katƒ±. Metro baƒülantƒ±lƒ±, prestijli lokasyon.',
                            createdAt: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString()
                        },
                        {
                            id: 1004,
                            title: 'Sarƒ±yer Bah√ßeli Villa',
                            type: 'Satƒ±lƒ±k',
                            propertyType: 'Villa',
                            price: 8500000,
                            city: 'ƒ∞stanbul',
                            district: 'Sarƒ±yer',
                            neighborhood: 'Tarabya Mahallesi',
                            street: 'Kire√ßburnu Caddesi',
                            location: 'Sarƒ±yer, ƒ∞stanbul',
                            rooms: '5+2',
                            area: 450,
                            netArea: 380,
                            floor: 'Villa',
                            totalFloors: 3,
                            age: '12',
                            bathrooms: '4',
                            balconies: '3',
                            heating: 'Yerden Isƒ±tma',
                            fuel: 'Doƒüalgaz',
                            facade: 'G√ºney',
                            dues: 0,
                            deedStatus: 'M√ºstakil Tapu',
                            features: ['Bah√ße', 'Otopark', 'G√ºvenlik', 'Deniz Manzarasƒ±', 'Havuz', 'Teras'],
                            description: 'Boƒüaz kƒ±yƒ±sƒ±nda, √∂zel bah√ßeli, havuzlu villa. Panoramik Boƒüaz manzarasƒ±, l√ºks ya≈üam alanƒ±.',
                            createdAt: new Date(Date.now() - 10 * 24 * 60 * 60 * 1000).toISOString()
                        },
                        {
                            id: 1005,
                            title: 'Bakƒ±rk√∂y Yatƒ±rƒ±mlƒ±k 1+1 Daire',
                            type: 'Satƒ±lƒ±k',
                            propertyType: 'Daire',
                            price: 1250000,
                            city: 'ƒ∞stanbul',
                            district: 'Bakƒ±rk√∂y',
                            neighborhood: 'Atak√∂y Mahallesi',
                            street: 'Sahil Yolu',
                            location: 'Bakƒ±rk√∂y, ƒ∞stanbul',
                            rooms: '1+1',
                            area: 65,
                            netArea: 55,
                            floor: '4',
                            totalFloors: 8,
                            age: '15',
                            bathrooms: '1',
                            balconies: '1',
                            heating: 'Kombi (Doƒüalgaz)',
                            fuel: 'Doƒüalgaz',
                            facade: 'Batƒ±',
                            dues: 320,
                            deedStatus: 'Kat M√ºlkiyeti',
                            features: ['Asans√∂r', 'Otopark', 'Balkon', 'Toplu Ta≈üƒ±ma'],
                            description: 'Metrob√ºs ve metro yakƒ±nƒ±, yatƒ±rƒ±mlƒ±k 1+1 daire. Kiralama garantili b√∂lge.',
                            createdAt: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString()
                        }
                    ]));
                }
                if (!localStorage.getItem('lookhause_customers')) {
                    localStorage.setItem('lookhause_customers', JSON.stringify([
                        {
                            id: 2001,
                            firstName: 'Ahmet',
                            lastName: 'Yƒ±lmaz',
                            phone: '0532 123 45 67',
                            email: 'ahmet.yilmaz@email.com',
                            tcNo: '12345678901',
                            birthDate: '1985-03-15',
                            gender: 'Erkek',
                            maritalStatus: 'Evli',
                            profession: 'M√ºhendis',
                            company: 'Teknoloji A.≈û.',
                            monthlyIncome: 25000,
                            budget: 2000000,
                            advisor: 2,
                            customerType: 'Alƒ±cƒ±',
                            priority: 'Y√ºksek',
                            source: 'Web Sitesi',
                            city: 'ƒ∞stanbul',
                            district: 'Be≈üikta≈ü',
                            address: 'Levent Mahallesi, B√ºy√ºkdere Cad. No:45 D:12',
                            preferredPropertyType: 'Daire',
                            preferredRooms: '3+1',
                            minArea: 100,
                            maxArea: 150,
                            preferredLocations: 'Be≈üikta≈ü, ≈ûi≈üli, Kadƒ±k√∂y',
                            homeNumber: 'ƒ∞lk Ev',
                            preferences: ['Asans√∂r', 'Otopark', 'G√ºvenlik', 'Deniz Manzarasƒ±'],
                            notes: 'Deniz manzarasƒ± olan daireler tercih ediyor. 3 ay i√ßinde karar verecek.',
                            createdAt: new Date(Date.now() - 15 * 24 * 60 * 60 * 1000).toISOString()
                        },
                        {
                            id: 2002,
                            firstName: 'Fatma',
                            lastName: 'Demir',
                            phone: '0533 987 65 43',
                            email: 'fatma.demir@email.com',
                            tcNo: '98765432109',
                            birthDate: '1990-07-22',
                            gender: 'Kadƒ±n',
                            maritalStatus: 'Bekar',
                            profession: 'Doktor',
                            company: '√ñzel Hastane',
                            monthlyIncome: 35000,
                            budget: 1800000,
                            advisor: 3,
                            customerType: 'Kiracƒ±',
                            priority: 'Orta',
                            source: 'Referans',
                            city: 'ƒ∞stanbul',
                            district: 'Kadƒ±k√∂y',
                            address: 'Moda Mahallesi, Bahariye Cad. No:78 D:5',
                            preferredPropertyType: 'Daire',
                            preferredRooms: '2+1',
                            minArea: 80,
                            maxArea: 120,
                            preferredLocations: 'Kadƒ±k√∂y, √úsk√ºdar, Maltepe',
                            homeNumber: 'ƒ∞kinci Ev',
                            preferences: ['E≈üyalƒ±', 'Toplu Ta≈üƒ±ma', 'Okul Yakƒ±nƒ±', 'Merkezi Konum'],
                            notes: 'Hastaneye yakƒ±n lokasyon arƒ±yor. E≈üyalƒ± daire tercih ediyor.',
                            createdAt: new Date(Date.now() - 8 * 24 * 60 * 60 * 1000).toISOString()
                        },
                        {
                            id: 2003,
                            firstName: 'Mehmet',
                            lastName: 'Kaya',
                            phone: '0534 456 78 90',
                            email: 'mehmet.kaya@email.com',
                            tcNo: '11223344556',
                            birthDate: '1978-11-08',
                            gender: 'Erkek',
                            maritalStatus: 'Evli',
                            profession: 'ƒ∞≈ü ƒ∞nsanƒ±',
                            company: 'Kaya Holding',
                            monthlyIncome: 75000,
                            budget: 10000000,
                            advisor: 2,
                            customerType: 'Yatƒ±rƒ±mcƒ±',
                            priority: 'Acil',
                            source: 'Ofis Ziyareti',
                            city: 'ƒ∞stanbul',
                            district: 'Sarƒ±yer',
                            address: 'Tarabya Mahallesi, Kire√ßburnu Cad. No:123',
                            preferredPropertyType: 'Villa',
                            preferredRooms: '5+1',
                            minArea: 300,
                            maxArea: 500,
                            preferredLocations: 'Sarƒ±yer, Beykoz, B√ºy√ºk√ßekmece',
                            homeNumber: 'Yatƒ±rƒ±m',
                            preferences: ['Bah√ße', 'Havuz', 'Deniz Manzarasƒ±', 'G√ºvenlik', 'Otopark'],
                            notes: 'L√ºks villa arƒ±yor. Yatƒ±rƒ±m ama√ßlƒ±. Hƒ±zlƒ± karar verebilir.',
                            createdAt: new Date(Date.now() - 20 * 24 * 60 * 60 * 1000).toISOString()
                        },
                        {
                            id: 2004,
                            firstName: 'Ay≈üe',
                            lastName: '√ñzkan',
                            phone: '0535 321 65 47',
                            email: 'ayse.ozkan@email.com',
                            tcNo: '55667788990',
                            birthDate: '1992-05-12',
                            gender: 'Kadƒ±n',
                            maritalStatus: 'Evli',
                            profession: '√ñƒüretmen',
                            company: 'MEB',
                            monthlyIncome: 15000,
                            budget: 1500000,
                            advisor: 3,
                            customerType: 'Alƒ±cƒ±',
                            priority: 'Normal',
                            source: 'Sosyal Medya',
                            city: 'ƒ∞stanbul',
                            district: 'Bakƒ±rk√∂y',
                            address: 'Atak√∂y Mahallesi, Sahil Yolu No:56 D:8',
                            preferredPropertyType: 'Daire',
                            preferredRooms: '2+1',
                            minArea: 70,
                            maxArea: 100,
                            preferredLocations: 'Bakƒ±rk√∂y, Bah√ßelievler, Zeytinburnu',
                            homeNumber: 'ƒ∞lk Ev',
                            preferences: ['Toplu Ta≈üƒ±ma', 'Okul Yakƒ±nƒ±', 'Asans√∂r', 'Balkon'],
                            notes: 'ƒ∞lk ev alƒ±mƒ±. Kredi √ßekecek. Okula yakƒ±n lokasyon istiyor.',
                            createdAt: new Date(Date.now() - 12 * 24 * 60 * 60 * 1000).toISOString()
                        },
                        {
                            id: 2005,
                            firstName: 'Can',
                            lastName: 'Arslan',
                            phone: '0536 789 12 34',
                            email: 'can.arslan@email.com',
                            tcNo: '99887766554',
                            birthDate: '1988-09-30',
                            gender: 'Erkek',
                            maritalStatus: 'Bekar',
                            profession: 'Yazƒ±lƒ±m Geli≈ütirici',
                            company: 'Tech Startup',
                            monthlyIncome: 30000,
                            budget: 50000,
                            advisor: 2,
                            customerType: 'Kiracƒ±',
                            priority: 'Y√ºksek',
                            source: 'Emlak Portalƒ±',
                            city: 'ƒ∞stanbul',
                            district: '≈ûi≈üli',
                            address: 'Mecidiyek√∂y Mahallesi, B√ºy√ºkdere Cad. No:89 D:15',
                            preferredPropertyType: 'Ofis',
                            preferredRooms: 'A√ßƒ±k Ofis',
                            minArea: 100,
                            maxArea: 200,
                            preferredLocations: '≈ûi≈üli, Be≈üikta≈ü, Maslak',
                            homeNumber: 'ƒ∞≈ü Yeri',
                            preferences: ['Merkezi Konum', 'Toplu Ta≈üƒ±ma', 'Otopark', 'G√ºvenlik'],
                            notes: 'Startup i√ßin ofis arƒ±yor. Metro yakƒ±nƒ± olmalƒ±. Esnek √∂deme ko≈üullarƒ± istiyor.',
                            createdAt: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000).toISOString()
                        }
                    ]));
                }
                if (!localStorage.getItem('lookhause_advisors')) {
                    localStorage.setItem('lookhause_advisors', JSON.stringify([
                        {
                            id: 1,
                            firstName: 'Admin',
                            lastName: 'User',
                            phone: '0555 000 0000',
                            email: 'admin@lookhause.com',
                            username: 'admin',
                            password: 'admin123',
                            specialty: 'Y√∂netici',
                            customerCount: 0,
                            isAdmin: true
                        },
                        {
                            id: 2,
                            firstName: 'Zeynep',
                            lastName: '≈ûahin',
                            tcNo: '12345678902',
                            birthDate: '1987-04-18',
                            phone: '0532 111 22 33',
                            email: 'zeynep.sahin@lookhause.com',
                            emergencyPhone: '0533 444 55 66',
                            gender: 'Kadƒ±n',
                            maritalStatus: 'Evli',
                            education: 'Lisans',
                            school: 'ƒ∞stanbul √úniversitesi',
                            department: 'ƒ∞≈ületme',
                            experience: '5-10',
                            previousJob: 'Remax Emlak',
                            startDate: '2023-01-15',
                            salary: 28000,
                            commissionRate: 3.5,
                            workStatus: 'Tam Zamanlƒ±',
                            username: 'zeynep.sahin',
                            password: 'zeynep123',
                            specialty: 'Konut Satƒ±≈ü',
                            secondarySpecialty: 'L√ºks Gayrimenkul',
                            city: 'ƒ∞stanbul',
                            district: 'Be≈üikta≈ü',
                            address: 'Levent Mahallesi, B√ºy√ºkdere Cad. No:100 D:25',
                            certifications: ['Emlak Lisansƒ±', 'Emlak Deƒüerleme', 'ƒ∞ngilizce'],
                            workArea1: 'Be≈üikta≈ü, ≈ûi≈üli',
                            workArea2: 'Sarƒ±yer, Beyoƒülu',
                            workArea3: 'Kadƒ±k√∂y, √úsk√ºdar',
                            notes: 'Deneyimli danƒ±≈üman. L√ºks segmentte uzman. ƒ∞ngilizce konu≈üabiliyor.',
                            customerCount: 3,
                            isAdmin: false,
                            createdAt: new Date(Date.now() - 90 * 24 * 60 * 60 * 1000).toISOString()
                        },
                        {
                            id: 3,
                            firstName: 'Emre',
                            lastName: 'Yƒ±ldƒ±z',
                            tcNo: '98765432108',
                            birthDate: '1991-08-25',
                            phone: '0533 222 33 44',
                            email: 'emre.yildiz@lookhause.com',
                            emergencyPhone: '0534 555 66 77',
                            gender: 'Erkek',
                            maritalStatus: 'Bekar',
                            education: 'Lisans',
                            school: 'Boƒüazi√ßi √úniversitesi',
                            department: 'Ekonomi',
                            experience: '3-5',
                            previousJob: 'Century21',
                            startDate: '2023-03-01',
                            salary: 25000,
                            commissionRate: 3.0,
                            workStatus: 'Tam Zamanlƒ±',
                            username: 'emre.yildiz',
                            password: 'emre123',
                            specialty: 'Konut Kiralama',
                            secondarySpecialty: 'Ticari Gayrimenkul',
                            city: 'ƒ∞stanbul',
                            district: 'Kadƒ±k√∂y',
                            address: 'Moda Mahallesi, Bahariye Cad. No:45 D:12',
                            certifications: ['Emlak Lisansƒ±', 'Yatƒ±rƒ±m Danƒ±≈ümanlƒ±ƒüƒ±'],
                            workArea1: 'Kadƒ±k√∂y, √úsk√ºdar',
                            workArea2: 'Maltepe, Kartal',
                            workArea3: 'Bakƒ±rk√∂y, Bah√ßelievler',
                            notes: 'Gen√ß ve dinamik danƒ±≈üman. Kiralama konusunda uzman. Sosyal medyada aktif.',
                            customerCount: 2,
                            isAdmin: false,
                            createdAt: new Date(Date.now() - 60 * 24 * 60 * 60 * 1000).toISOString()
                        },
                        {
                            id: 4,
                            firstName: 'Selin',
                            lastName: 'Korkmaz',
                            tcNo: '11223344557',
                            birthDate: '1985-12-10',
                            phone: '0534 333 44 55',
                            email: 'selin.korkmaz@lookhause.com',
                            emergencyPhone: '0535 666 77 88',
                            gender: 'Kadƒ±n',
                            maritalStatus: 'Evli',
                            education: 'Y√ºksek Lisans',
                            school: 'Mimar Sinan √úniversitesi',
                            department: 'Mimarlƒ±k',
                            experience: '10+',
                            previousJob: 'Coldwell Banker',
                            startDate: '2022-09-15',
                            salary: 35000,
                            commissionRate: 4.0,
                            workStatus: 'Tam Zamanlƒ±',
                            username: 'selin.korkmaz',
                            password: 'selin123',
                            specialty: 'L√ºks Gayrimenkul',
                            secondarySpecialty: 'Proje Pazarlama',
                            city: 'ƒ∞stanbul',
                            district: 'Sarƒ±yer',
                            address: 'Tarabya Mahallesi, Kire√ßburnu Cad. No:78 D:6',
                            certifications: ['Emlak Lisansƒ±', 'Emlak Deƒüerleme', 'Proje Pazarlama', 'ƒ∞ngilizce', 'Arap√ßa'],
                            workArea1: 'Sarƒ±yer, Beykoz',
                            workArea2: 'Be≈üikta≈ü, ≈ûi≈üli',
                            workArea3: 'B√ºy√ºk√ßekmece, Beylikd√ºz√º',
                            notes: 'Mimarlƒ±k ge√ßmi≈üi olan deneyimli danƒ±≈üman. L√ºks projeler konusunda uzman. √áok dilli.',
                            customerCount: 0,
                            isAdmin: false,
                            createdAt: new Date(Date.now() - 120 * 24 * 60 * 60 * 1000).toISOString()
                        }
                    ]));
                }
                if (!localStorage.getItem('lookhause_activities')) {
                    localStorage.setItem('lookhause_activities', JSON.stringify([
                        {
                            id: 3001,
                            type: 'ƒ∞lk G√∂r√º≈üme',
                            date: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString(),
                            customer: 2001,
                            portfolio: 1001,
                            duration: 45,
                            location: 'Ofis',
                            result: 'Ba≈üarƒ±lƒ±',
                            priority: 'Y√ºksek',
                            offeredPrice: 2400000,
                            customerBudget: 2000000,
                            interestLevel: 'Y√ºksek',
                            decisionProcess: '1 Hafta ƒ∞√ßinde',
                            financingStatus: 'Kredi Ba≈üvurusu Yapacak',
                            competition: 'Sadece Bizimle √áalƒ±≈üƒ±yor',
                            tasks: ['Fiyat Ara≈ütƒ±rmasƒ±', 'Kredi Hesaplama', 'Benzer Emlaklar G√∂nder'],
                            notes: 'M√º≈üteri daireyi √ßok beƒüendi. Deniz manzarasƒ± tam istediƒüi gibi. Fiyat konusunda pazarlƒ±k yapabiliriz.',
                            nextSteps: 'Kredi hesaplama yapƒ±lacak, benzer daireler g√∂sterilecek.',
                            followUpDate: new Date(Date.now() + 2 * 24 * 60 * 60 * 1000).toISOString(),
                            createdAt: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString()
                        },
                        {
                            id: 3002,
                            type: 'Emlak Gezisi',
                            date: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(),
                            customer: 2002,
                            portfolio: 1002,
                            duration: 30,
                            location: 'Emlak Lokasyonu',
                            result: 'Ba≈üarƒ±lƒ±',
                            priority: 'Orta',
                            customerBudget: 18000,
                            interestLevel: '√áok Y√ºksek',
                            decisionProcess: 'Hemen Karar Verebilir',
                            financingStatus: 'Nakit √ñdeme',
                            competition: '2-3 Emlak√ßƒ± ile √áalƒ±≈üƒ±yor',
                            tasks: ['S√∂zle≈üme Hazƒ±rlƒ±ƒüƒ±', 'Referans Kontrol√º'],
                            notes: 'M√º≈üteri daireyi √ßok beƒüendi. E≈üyalar tam istediƒüi gibi. Hemen kiralama kararƒ± verebilir.',
                            nextSteps: 'S√∂zle≈üme hazƒ±rlanacak, depozito konu≈üulacak.',
                            followUpDate: new Date(Date.now() + 1 * 24 * 60 * 60 * 1000).toISOString(),
                            createdAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString()
                        },
                        {
                            id: 3003,
                            type: 'Telefon G√∂r√º≈ümesi',
                            date: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000).toISOString(),
                            customer: 2003,
                            portfolio: 1004,
                            duration: 20,
                            location: 'Telefon',
                            result: 'Takip Gerekli',
                            priority: 'Acil',
                            offeredPrice: 8000000,
                            customerBudget: 10000000,
                            interestLevel: 'Orta',
                            decisionProcess: '1 Ay ƒ∞√ßinde',
                            financingStatus: 'Nakit √ñdeme',
                            competition: 'Diƒüer Teklifler Var',
                            tasks: ['Fotoƒüraf √áekimi', 'Ekspertiz Raporu'],
                            notes: 'M√º≈üteri villayƒ± merak ediyor ama hen√ºz g√∂rmedi. Fiyat konusunda esnek.',
                            nextSteps: 'Villa gezisi ayarlanacak, detaylƒ± fotoƒüraflar g√∂nderilecek.',
                            followUpDate: new Date(Date.now() + 3 * 24 * 60 * 60 * 1000).toISOString(),
                            createdAt: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000).toISOString()
                        },
                        {
                            id: 3004,
                            type: 'Satƒ±≈ü',
                            date: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString(),
                            customer: 2004,
                            portfolio: 1005,
                            duration: 120,
                            location: 'Ofis',
                            result: 'Anla≈üma Saƒülandƒ±',
                            priority: 'Y√ºksek',
                            offeredPrice: 1200000,
                            customerBudget: 1500000,
                            commission: 42000,
                            interestLevel: '√áok Y√ºksek',
                            decisionProcess: 'Hemen Karar Verebilir',
                            financingStatus: 'Kredi Onayƒ± Var',
                            competition: 'Sadece Bizimle √áalƒ±≈üƒ±yor',
                            tasks: ['S√∂zle≈üme Hazƒ±rlƒ±ƒüƒ±', 'Tapu Ara≈ütƒ±rmasƒ±', 'Belediye Sorgusu'],
                            notes: 'Satƒ±≈ü ger√ßekle≈üti! M√º≈üteri √ßok memnun. Kredi s√ºreci ba≈ülatƒ±ldƒ±.',
                            nextSteps: 'Tapu devir i≈ülemleri takip edilecek.',
                            createdAt: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString()
                        },
                        {
                            id: 3005,
                            type: 'Teklif Sunumu',
                            date: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(),
                            customer: 2005,
                            portfolio: 1003,
                            duration: 60,
                            location: 'Emlak Lokasyonu',
                            result: 'Karar A≈üamasƒ±nda',
                            priority: 'Y√ºksek',
                            offeredPrice: 42000,
                            customerBudget: 50000,
                            interestLevel: 'Y√ºksek',
                            decisionProcess: '1 Hafta ƒ∞√ßinde',
                            financingStatus: 'Nakit √ñdeme',
                            competition: '2-3 Emlak√ßƒ± ile √áalƒ±≈üƒ±yor',
                            tasks: ['Fiyat Ara≈ütƒ±rmasƒ±', 'S√∂zle≈üme Hazƒ±rlƒ±ƒüƒ±'],
                            notes: 'M√º≈üteri ofisi beƒüendi. Lokasyon m√ºkemmel. Fiyat konusunda biraz pazarlƒ±k istiyor.',
                            nextSteps: 'Final teklif sunulacak, s√∂zle≈üme detaylarƒ± konu≈üulacak.',
                            followUpDate: new Date(Date.now() + 2 * 24 * 60 * 60 * 1000).toISOString(),
                            createdAt: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString()
                        }
                    ]));
                }
                if (!localStorage.getItem('lookhause_notifications')) {
                    localStorage.setItem('lookhause_notifications', JSON.stringify([]));
                }
            }

            getPortfolios() {
                return JSON.parse(localStorage.getItem('lookhause_portfolios') || '[]');
            }

            savePortfolios(portfolios) {
                localStorage.setItem('lookhause_portfolios', JSON.stringify(portfolios));
            }

            getCustomers() {
                return JSON.parse(localStorage.getItem('lookhause_customers') || '[]');
            }

            saveCustomers(customers) {
                localStorage.setItem('lookhause_customers', JSON.stringify(customers));
            }

            getAdvisors() {
                return JSON.parse(localStorage.getItem('lookhause_advisors') || '[]');
            }

            saveAdvisors(advisors) {
                localStorage.setItem('lookhause_advisors', JSON.stringify(advisors));
            }

            getActivities() {
                return JSON.parse(localStorage.getItem('lookhause_activities') || '[]');
            }

            saveActivities(activities) {
                localStorage.setItem('lookhause_activities', JSON.stringify(activities));
            }

            getNotifications() {
                return JSON.parse(localStorage.getItem('lookhause_notifications') || '[]');
            }

            saveNotifications(notifications) {
                localStorage.setItem('lookhause_notifications', JSON.stringify(notifications));
            }

            addNotification(message, type = 'system', title = '', priority = 'normal', targetUser = null, persistent = false) {
                const notifications = this.getNotifications();
                const newNotification = {
                    id: Date.now(),
                    title: title || this.getDefaultTitle(type),
                    message: message,
                    type: type,
                    priority: priority,
                    targetUser: targetUser,
                    persistent: persistent,
                    timestamp: new Date().toISOString(),
                    timestampFormatted: new Date().toLocaleString('tr-TR'),
                    read: false,
                    createdBy: currentUser ? currentUser.id : null
                };
                
                notifications.unshift(newNotification);
                this.saveNotifications(notifications);
                this.updateNotificationCount();
                
                return newNotification;
            }

            getDefaultTitle(type) {
                const titles = {
                    'system': 'Sistem Bildirimi',
                    'user': 'Kullanƒ±cƒ± Bildirimi',
                    'reminder': 'Hatƒ±rlatma',
                    'warning': 'Uyarƒ±',
                    'success': 'Ba≈üarƒ±',
                    'info': 'Bilgi'
                };
                return titles[type] || 'Bildirim';
            }

            updateNotificationCount() {
                const notifications = this.getNotifications();
                const unreadCount = notifications.filter(n => !n.read && this.isNotificationForCurrentUser(n)).length;
                const countElement = document.getElementById('notificationCount');
                if (countElement) {
                    countElement.textContent = unreadCount;
                    countElement.style.display = unreadCount > 0 ? 'flex' : 'none';
                }
            }

            isNotificationForCurrentUser(notification) {
                if (!currentUser) return true;
                
                if (notification.targetUser) {
                    if (typeof notification.targetUser === 'number') {
                        return notification.targetUser === currentUser.id;
                    } else if (notification.targetUser === 'admins') {
                        return currentUser.isAdmin || currentUser.type === 'admin';
                    } else if (notification.targetUser === 'advisors') {
                        return !currentUser.isAdmin && currentUser.type === 'advisor';
                    }
                }
                
                return true; // Global notifications are for everyone
            }

            markNotificationAsRead(notificationId) {
                const notifications = this.getNotifications();
                const notification = notifications.find(n => n.id === notificationId);
                if (notification) {
                    notification.read = true;
                    this.saveNotifications(notifications);
                    this.updateNotificationCount();
                }
            }

            markAllNotificationsAsRead() {
                const notifications = this.getNotifications();
                notifications.forEach(n => {
                    if (this.isNotificationForCurrentUser(n)) {
                        n.read = true;
                    }
                });
                this.saveNotifications(notifications);
                this.updateNotificationCount();
            }

            deleteNotification(notificationId) {
                const notifications = this.getNotifications().filter(n => n.id !== notificationId);
                this.saveNotifications(notifications);
                this.updateNotificationCount();
            }

            getFilteredNotifications(filter = 'all', search = '', sort = 'newest') {
                let notifications = this.getNotifications();
                
                // Filter by user permissions
                notifications = notifications.filter(n => this.isNotificationForCurrentUser(n));
                
                // Apply filters
                const today = new Date();
                today.setHours(0, 0, 0, 0);
                const weekAgo = new Date(today.getTime() - 7 * 24 * 60 * 60 * 1000);
                
                switch (filter) {
                    case 'unread':
                        notifications = notifications.filter(n => !n.read);
                        break;
                    case 'read':
                        notifications = notifications.filter(n => n.read);
                        break;
                    case 'today':
                        notifications = notifications.filter(n => new Date(n.timestamp) >= today);
                        break;
                    case 'week':
                        notifications = notifications.filter(n => new Date(n.timestamp) >= weekAgo);
                        break;
                    case 'system':
                    case 'user':
                    case 'reminder':
                    case 'warning':
                    case 'success':
                    case 'info':
                        notifications = notifications.filter(n => n.type === filter);
                        break;
                }
                
                // Apply search
                if (search) {
                    const searchLower = search.toLowerCase();
                    notifications = notifications.filter(n => 
                        n.title.toLowerCase().includes(searchLower) ||
                        n.message.toLowerCase().includes(searchLower)
                    );
                }
                
                // Apply sorting
                switch (sort) {
                    case 'oldest':
                        notifications.sort((a, b) => new Date(a.timestamp) - new Date(b.timestamp));
                        break;
                    case 'unread-first':
                        notifications.sort((a, b) => {
                            if (a.read === b.read) {
                                return new Date(b.timestamp) - new Date(a.timestamp);
                            }
                            return a.read ? 1 : -1;
                        });
                        break;
                    default: // newest
                        notifications.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));
                }
                
                return notifications;
            }
        }

        // Initialize database
        const db = new Database();
        let currentUser = null;

        // Login functionality
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const userType = document.getElementById('userType').value;
            
            const advisors = db.getAdvisors();
            const user = advisors.find(a => a.username === username && a.password === password);
            
            if (user && ((userType === 'admin' && user.isAdmin) || (userType === 'advisor' && !user.isAdmin))) {
                currentUser = { ...user, type: userType };
                document.getElementById('loginScreen').classList.add('hidden');
                document.getElementById('dashboard').classList.remove('hidden');
                document.getElementById('userRole').textContent = userType === 'admin' ? 'Y√∂netici' : 'Danƒ±≈üman';
                
                // Configure sidebar based on user type
                configureSidebar();
                loadDashboard();
                db.updateNotificationCount();
            } else {
                showNotification('Ge√ßersiz kullanƒ±cƒ± adƒ± veya ≈üifre!', 'error');
            }
        });

        // Demo credentials hint
        setTimeout(() => {
            document.getElementById('username').placeholder = 'Demo: admin';
            document.getElementById('password').placeholder = 'Demo: admin123';
        }, 500);

        // Configure sidebar based on user type
        function configureSidebar() {
            const sidebar = document.getElementById('sidebar');
            const navButtons = sidebar.querySelectorAll('.nav-btn');
            
            if (currentUser.type === 'advisor') {
                // Hide admin-only sections for advisors
                navButtons.forEach(btn => {
                    const tab = btn.getAttribute('data-tab');
                    if (tab === 'advisors' || tab === 'performance') {
                        btn.style.display = 'none';
                    }
                });
            }
        }

        // Logout functionality
        document.getElementById('logoutBtn').addEventListener('click', function() {
            currentUser = null;
            document.getElementById('dashboard').classList.add('hidden');
            document.getElementById('loginScreen').classList.remove('hidden');
            document.getElementById('loginForm').reset();
        });

        // Tab navigation
        document.querySelectorAll('.nav-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const tab = this.getAttribute('data-tab');
                showTab(tab);
                
                // Update active nav button
                document.querySelectorAll('.nav-btn').forEach(b => {
                    b.classList.remove('bg-gold/10', 'text-gold');
                    b.classList.add('text-white');
                });
                this.classList.add('bg-gold/10', 'text-gold');
                this.classList.remove('text-white');
            });
        });

        function showTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.add('hidden');
            });
            
            // Show selected tab
            document.getElementById(tabName + 'Tab').classList.remove('hidden');
            
            // Load tab-specific data
            switch(tabName) {
                case 'dashboard':
                    loadDashboard();
                    break;
                case 'portfolios':
                    loadPortfolios();
                    break;
                case 'customers':
                    loadCustomers();
                    break;
                case 'advisors':
                    loadAdvisors();
                    break;
                case 'matching':
                    loadMatching();
                    break;
                case 'performance':
                    loadPerformance();
                    break;
                case 'activities':
                    loadActivities();
                    break;
                case 'notifications':
                    loadNotifications();
                    break;
            }
        }

        // Load dashboard data
        function loadDashboard() {
            const portfolios = db.getPortfolios();
            const customers = db.getCustomers();
            const advisors = db.getAdvisors();
            const activities = db.getActivities();
            
            // Filter data for advisors
            let filteredCustomers = customers;
            let filteredActivities = activities;
            
            if (currentUser.type === 'advisor') {
                filteredCustomers = customers.filter(c => c.advisor === currentUser.id);
                filteredActivities = activities.filter(a => {
                    const customer = customers.find(c => c.id == a.customer);
                    return customer && customer.advisor === currentUser.id;
                });
            }
            
            document.getElementById('totalPortfolios').textContent = portfolios.length;
            document.getElementById('totalCustomers').textContent = filteredCustomers.length;
            document.getElementById('totalAdvisors').textContent = advisors.filter(a => !a.isAdmin).length;
            
            const sales = filteredActivities.filter(a => a.type === 'Satƒ±≈ü').length;
            document.getElementById('monthlySales').textContent = sales;
            
            // Update recent activities
            const recentActivitiesContainer = document.getElementById('recentActivities');
            const recentActivities = filteredActivities
                .sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt))
                .slice(0, 5);
            
            recentActivitiesContainer.innerHTML = recentActivities.length > 0 ? 
                recentActivities.map(activity => {
                    const customer = customers.find(c => c.id == activity.customer);
                    const customerName = customer ? `${customer.firstName} ${customer.lastName}` : 'Bilinmeyen';
                    const timeAgo = getTimeAgo(new Date(activity.createdAt));
                    
                    return `
                        <div class="flex items-center space-x-3 p-3 bg-gray-800 rounded-lg">
                            <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                            <div class="flex-1">
                                <span class="text-white text-sm">${activity.type} - ${customerName}</span>
                                <p class="text-gray-400 text-xs">${timeAgo}</p>
                            </div>
                        </div>
                    `;
                }).join('') : 
                '<div class="p-3 bg-gray-800 rounded-lg text-center text-gray-400 text-sm">Hen√ºz aktivite bulunmuyor</div>';
            
            // Update top performers
            const topPerformersContainer = document.getElementById('topPerformers');
            const advisorPerformance = advisors.filter(a => !a.isAdmin).map(advisor => {
                const advisorActivities = activities.filter(a => {
                    const customer = customers.find(c => c.id == a.customer);
                    return customer && customer.advisor === advisor.id;
                });
                const salesCount = advisorActivities.filter(a => a.type === 'Satƒ±≈ü').length;
                
                return {
                    name: `${advisor.firstName} ${advisor.lastName}`,
                    sales: salesCount
                };
            }).sort((a, b) => b.sales - a.sales).slice(0, 3);
            
            topPerformersContainer.innerHTML = advisorPerformance.length > 0 ?
                advisorPerformance.map(performer => `
                    <div class="flex justify-between items-center p-3 bg-gray-800 rounded-lg">
                        <span class="text-white">${performer.name}</span>
                        <span class="text-gold font-semibold">${performer.sales} Satƒ±≈ü</span>
                    </div>
                `).join('') :
                '<div class="p-3 bg-gray-800 rounded-lg text-center text-gray-400 text-sm">Hen√ºz performans verisi bulunmuyor</div>';
        }

        // Load portfolios
        function loadPortfolios() {
            const portfolios = db.getPortfolios();
            const tbody = document.getElementById('portfolioTableBody');
            
            tbody.innerHTML = portfolios.map(portfolio => `
                <tr class="border-b border-gray-700 hover:bg-gray-800">
                    <td class="px-6 py-4">#${portfolio.id}</td>
                    <td class="px-6 py-4">${portfolio.title}</td>
                    <td class="px-6 py-4">${portfolio.type}</td>
                    <td class="px-6 py-4">${portfolio.price.toLocaleString('tr-TR')} ‚Ç∫</td>
                    <td class="px-6 py-4">${portfolio.location}</td>
                    <td class="px-6 py-4">
                        <span class="px-2 py-1 bg-green-600 text-white rounded-full text-xs">Aktif</span>
                    </td>
                    <td class="px-6 py-4">
                        <div class="flex space-x-2">
                            <button onclick="editPortfolio(${portfolio.id})" class="text-gold hover:text-gold-dark">‚úèÔ∏è</button>
                            <button onclick="deletePortfolio(${portfolio.id})" class="text-red-500 hover:text-red-700">üóëÔ∏è</button>
                            <button onclick="sendWhatsApp('${portfolio.title}')" class="text-green-500 hover:text-green-700">üì±</button>
                        </div>
                    </td>
                </tr>
            `).join('');
        }

        // Load customers
        function loadCustomers() {
            let customers = db.getCustomers();
            const advisors = db.getAdvisors();
            
            // Filter customers for advisors
            if (currentUser.type === 'advisor') {
                customers = customers.filter(c => c.advisor === currentUser.id);
            }
            
            const tbody = document.getElementById('customerTableBody');
            
            tbody.innerHTML = customers.map(customer => {
                const advisor = advisors.find(a => a.id == customer.advisor);
                const advisorName = advisor ? `${advisor.firstName} ${advisor.lastName}` : 'Atanmamƒ±≈ü';
                
                return `
                    <tr class="border-b border-gray-700 hover:bg-gray-800">
                        <td class="px-6 py-4">#${customer.id}</td>
                        <td class="px-6 py-4">${customer.firstName} ${customer.lastName}</td>
                        <td class="px-6 py-4">${customer.phone}</td>
                        <td class="px-6 py-4">${customer.email || '-'}</td>
                        <td class="px-6 py-4">${advisorName}</td>
                        <td class="px-6 py-4">
                            <span class="px-2 py-1 bg-blue-600 text-white rounded-full text-xs">Aktif</span>
                        </td>
                        <td class="px-6 py-4">
                            <div class="flex space-x-2">
                                <button onclick="editCustomer(${customer.id})" class="text-gold hover:text-gold-dark">‚úèÔ∏è</button>
                                <button onclick="deleteCustomer(${customer.id})" class="text-red-500 hover:text-red-700">üóëÔ∏è</button>
                                <button onclick="sendWhatsApp('${customer.firstName} ${customer.lastName}')" class="text-green-500 hover:text-green-700">üì±</button>
                            </div>
                        </td>
                    </tr>
                `;
            }).join('');
        }

        // Load advisors
        function loadAdvisors() {
            const advisors = db.getAdvisors().filter(a => !a.isAdmin);
            const customers = db.getCustomers();
            const tbody = document.getElementById('advisorTableBody');
            
            tbody.innerHTML = advisors.map(advisor => {
                const customerCount = customers.filter(c => c.advisor === advisor.id).length;
                
                return `
                    <tr class="border-b border-gray-700 hover:bg-gray-800">
                        <td class="px-6 py-4">#${advisor.id}</td>
                        <td class="px-6 py-4">${advisor.firstName} ${advisor.lastName}</td>
                        <td class="px-6 py-4">${advisor.phone}</td>
                        <td class="px-6 py-4">${advisor.email}</td>
                        <td class="px-6 py-4">${advisor.specialty}</td>
                        <td class="px-6 py-4">${customerCount}</td>
                        <td class="px-6 py-4">
                            <div class="flex space-x-2">
                                <button onclick="editAdvisor(${advisor.id})" class="text-gold hover:text-gold-dark">‚úèÔ∏è</button>
                                <button onclick="deleteAdvisor(${advisor.id})" class="text-red-500 hover:text-red-700">üóëÔ∏è</button>
                            </div>
                        </td>
                    </tr>
                `;
            }).join('');
        }

        // Load matching
        function loadMatching() {
            const customers = db.getCustomers();
            const select = document.getElementById('matchCustomerSelect');
            
            let filteredCustomers = customers;
            if (currentUser.type === 'advisor') {
                filteredCustomers = customers.filter(c => c.advisor === currentUser.id);
            }
            
            select.innerHTML = '<option value="">M√º≈üteri se√ßin...</option>' + 
                filteredCustomers.map(customer => 
                    `<option value="${customer.id}">${customer.firstName} ${customer.lastName}</option>`
                ).join('');
        }

        // Load performance
        function loadPerformance() {
            const advisors = db.getAdvisors().filter(a => !a.isAdmin);
            const customers = db.getCustomers();
            const activities = db.getActivities();
            const tbody = document.getElementById('performanceTableBody');
            
            // Calculate performance stats
            let topPerformer = null;
            let maxSales = 0;
            let totalSales = 0;
            let activeAdvisors = 0;
            
            const performanceData = advisors.map(advisor => {
                const advisorCustomers = customers.filter(c => c.advisor === advisor.id);
                const advisorActivities = activities.filter(a => {
                    const customer = customers.find(c => c.id == a.customer);
                    return customer && customer.advisor === advisor.id;
                });
                
                const meetings = advisorActivities.filter(a => 
                    a.type.includes('G√∂r√º≈üme') || a.type === 'Emlak Gezisi' || a.type === 'Teklif Sunumu'
                ).length;
                const sales = advisorActivities.filter(a => a.type === 'Satƒ±≈ü').length;
                const successRate = meetings > 0 ? ((sales / meetings) * 100).toFixed(1) : 0;
                const revenue = sales * 500000; // Average sale price
                
                totalSales += sales;
                if (sales > 0) activeAdvisors++;
                
                if (sales > maxSales) {
                    maxSales = sales;
                    topPerformer = `${advisor.firstName} ${advisor.lastName}`;
                }
                
                return {
                    advisor,
                    customers: advisorCustomers.length,
                    meetings,
                    sales,
                    successRate,
                    revenue
                };
            });
            
            // Update performance summary
            document.getElementById('topPerformerMonth').textContent = topPerformer || '-';
            document.getElementById('topPerformerSales').textContent = `${maxSales} satƒ±≈ü`;
            document.getElementById('averageSales').textContent = activeAdvisors > 0 ? Math.round(totalSales / activeAdvisors) : 0;
            document.getElementById('activeAdvisors').textContent = activeAdvisors;
            
            tbody.innerHTML = performanceData.map(data => `
                <tr class="border-b border-gray-700 hover:bg-gray-800">
                    <td class="px-6 py-4">${data.advisor.firstName} ${data.advisor.lastName}</td>
                    <td class="px-6 py-4">${data.customers}</td>
                    <td class="px-6 py-4">${data.meetings}</td>
                    <td class="px-6 py-4">${data.sales}</td>
                    <td class="px-6 py-4">${data.successRate}%</td>
                    <td class="px-6 py-4">‚Ç∫${data.revenue.toLocaleString('tr-TR')}</td>
                </tr>
            `).join('');
        }

        // Load activities
        function loadActivities() {
            let activities = db.getActivities();
            const customers = db.getCustomers();
            const portfolios = db.getPortfolios();
            const advisors = db.getAdvisors();
            
            // Filter activities for advisors
            if (currentUser.type === 'advisor') {
                activities = activities.filter(a => {
                    const customer = customers.find(c => c.id == a.customer);
                    return customer && customer.advisor === currentUser.id;
                });
            }
            
            const tbody = document.getElementById('activityTableBody');
            
            tbody.innerHTML = activities.map(activity => {
                const customer = customers.find(c => c.id == activity.customer);
                const portfolio = portfolios.find(p => p.id == activity.portfolio);
                const advisor = advisors.find(a => a.id == (customer ? customer.advisor : null));
                
                return `
                    <tr class="border-b border-gray-700 hover:bg-gray-800">
                        <td class="px-6 py-4">${new Date(activity.date).toLocaleDateString('tr-TR')}</td>
                        <td class="px-6 py-4">${activity.type}</td>
                        <td class="px-6 py-4">${customer ? `${customer.firstName} ${customer.lastName}` : '-'}</td>
                        <td class="px-6 py-4">${portfolio ? portfolio.title : '-'}</td>
                        <td class="px-6 py-4">${advisor ? `${advisor.firstName} ${advisor.lastName}` : '-'}</td>
                        <td class="px-6 py-4">
                            <span class="px-2 py-1 bg-green-600 text-white rounded-full text-xs">Tamamlandƒ±</span>
                        </td>
                        <td class="px-6 py-4">
                            <div class="flex space-x-2">
                                <button onclick="editActivity(${activity.id})" class="text-gold hover:text-gold-dark">‚úèÔ∏è</button>
                                <button onclick="deleteActivity(${activity.id})" class="text-red-500 hover:text-red-700">üóëÔ∏è</button>
                            </div>
                        </td>
                    </tr>
                `;
            }).join('');
        }

        // Load notifications
        function loadNotifications() {
            updateNotificationStats();
            renderNotifications();
        }

        function updateNotificationStats() {
            const allNotifications = db.getNotifications();
            const userNotifications = allNotifications.filter(n => db.isNotificationForCurrentUser(n));
            
            const today = new Date();
            today.setHours(0, 0, 0, 0);
            const weekAgo = new Date(today.getTime() - 7 * 24 * 60 * 60 * 1000);
            
            const unreadCount = userNotifications.filter(n => !n.read).length;
            const todayCount = userNotifications.filter(n => new Date(n.timestamp) >= today).length;
            const weekCount = userNotifications.filter(n => new Date(n.timestamp) >= weekAgo).length;
            
            document.getElementById('totalNotifications').textContent = userNotifications.length;
            document.getElementById('unreadNotifications').textContent = unreadCount;
            document.getElementById('todayNotifications').textContent = todayCount;
            document.getElementById('weekNotifications').textContent = weekCount;
        }

        function renderNotifications() {
            const filter = document.getElementById('notificationFilter').value;
            const search = document.getElementById('notificationSearch').value;
            const sort = document.getElementById('notificationSort').value;
            
            const notifications = db.getFilteredNotifications(filter, search, sort);
            const container = document.getElementById('notificationsList');
            
            if (notifications.length === 0) {
                container.innerHTML = `
                    <div class="p-8 text-center text-gray-400">
                        <div class="text-4xl mb-4">üîî</div>
                        <p>Hen√ºz bildirim bulunmuyor.</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = notifications.map(notification => {
                const priorityColors = {
                    'low': 'border-l-gray-500',
                    'normal': 'border-l-blue-500',
                    'high': 'border-l-yellow-500',
                    'urgent': 'border-l-red-500'
                };
                
                const typeIcons = {
                    'system': '‚öôÔ∏è',
                    'user': 'üë§',
                    'reminder': '‚è∞',
                    'warning': '‚ö†Ô∏è',
                    'success': '‚úÖ',
                    'info': '‚ÑπÔ∏è'
                };
                
                const timeAgo = getTimeAgo(new Date(notification.timestamp));
                
                return `
                    <div class="p-4 border-b border-gray-700 hover:bg-gray-800 ${!notification.read ? 'bg-gold/5' : ''} ${priorityColors[notification.priority]} border-l-4">
                        <div class="flex items-start justify-between">
                            <div class="flex-1">
                                <div class="flex items-center space-x-2 mb-2">
                                    <span class="text-lg">${typeIcons[notification.type] || 'üì¢'}</span>
                                    <h4 class="text-gold font-semibold ${!notification.read ? 'font-bold' : ''}">${notification.title}</h4>
                                    ${!notification.read ? '<span class="w-2 h-2 bg-gold rounded-full"></span>' : ''}
                                </div>
                                <p class="text-white text-sm mb-2">${notification.message}</p>
                                <div class="flex items-center space-x-4 text-xs text-gray-400">
                                    <span>${timeAgo}</span>
                                    <span class="capitalize">${notification.priority} √∂ncelik</span>
                                    ${notification.persistent ? '<span class="text-gold">üìå Kalƒ±cƒ±</span>' : ''}
                                </div>
                            </div>
                            <div class="flex items-center space-x-2 ml-4">
                                ${!notification.read ? `<button onclick="markNotificationAsRead(${notification.id})" class="text-blue-500 hover:text-blue-400 text-sm">Okundu ƒ∞≈üaretle</button>` : ''}
                                <button onclick="deleteNotification(${notification.id})" class="text-red-500 hover:text-red-400">üóëÔ∏è</button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function getTimeAgo(date) {
            const now = new Date();
            const diffInSeconds = Math.floor((now - date) / 1000);
            
            if (diffInSeconds < 60) return 'Az √∂nce';
            if (diffInSeconds < 3600) return `${Math.floor(diffInSeconds / 60)} dakika √∂nce`;
            if (diffInSeconds < 86400) return `${Math.floor(diffInSeconds / 3600)} saat √∂nce`;
            if (diffInSeconds < 604800) return `${Math.floor(diffInSeconds / 86400)} g√ºn √∂nce`;
            
            return date.toLocaleDateString('tr-TR');
        }

        // Modal functionality
        function showModal(modalId) {
            document.getElementById(modalId).classList.remove('hidden');
        }

        function hideModal(modalId) {
            document.getElementById(modalId).classList.add('hidden');
        }

        // Portfolio modal
        document.getElementById('addPortfolioBtn').addEventListener('click', () => showModal('portfolioModal'));
        document.getElementById('cancelPortfolioBtn').addEventListener('click', () => hideModal('portfolioModal'));

        document.getElementById('portfolioForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            const portfolios = db.getPortfolios();
            
            // Get checkbox values for features
            const features = Array.from(this.querySelectorAll('input[name="features"]:checked')).map(cb => cb.value);
            
            const newPortfolio = {
                id: Date.now(),
                title: formData.get('title'),
                type: formData.get('type'),
                propertyType: formData.get('propertyType'),
                price: parseInt(formData.get('price')),
                city: formData.get('city'),
                district: formData.get('district'),
                neighborhood: formData.get('neighborhood') || '',
                street: formData.get('street') || '',
                location: `${formData.get('district')}, ${formData.get('city')}`,
                rooms: formData.get('rooms'),
                area: parseInt(formData.get('area')),
                netArea: parseInt(formData.get('netArea')) || null,
                floor: formData.get('floor'),
                totalFloors: parseInt(formData.get('totalFloors')) || null,
                age: formData.get('age') || '',
                bathrooms: formData.get('bathrooms') || '',
                balconies: formData.get('balconies') || '',
                heating: formData.get('heating') || '',
                fuel: formData.get('fuel') || '',
                facade: formData.get('facade') || '',
                dues: parseInt(formData.get('dues')) || 0,
                deposit: parseInt(formData.get('deposit')) || 0,
                deedStatus: formData.get('deedStatus') || '',
                features: features,
                description: formData.get('description') || '',
                createdAt: new Date().toISOString()
            };
            
            portfolios.push(newPortfolio);
            db.savePortfolios(portfolios);
            db.addNotification(`Yeni portf√∂y eklendi: ${newPortfolio.title}`);
            
            hideModal('portfolioModal');
            this.reset();
            loadPortfolios();
            showNotification('Portf√∂y ba≈üarƒ±yla eklendi!', 'success');
        });

        // Customer modal
        document.getElementById('addCustomerBtn').addEventListener('click', () => {
            loadAdvisorOptions();
            showModal('customerModal');
        });
        document.getElementById('cancelCustomerBtn').addEventListener('click', () => hideModal('customerModal'));

        function loadAdvisorOptions() {
            const advisors = db.getAdvisors().filter(a => !a.isAdmin);
            const select = document.getElementById('customerAdvisorSelect');
            
            select.innerHTML = '<option value="">Se√ßin...</option>' + 
                advisors.map(advisor => 
                    `<option value="${advisor.id}">${advisor.firstName} ${advisor.lastName}</option>`
                ).join('');
        }

        document.getElementById('customerForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            const customers = db.getCustomers();
            
            // Get checkbox values for preferences
            const preferences = Array.from(this.querySelectorAll('input[name="preferences"]:checked')).map(cb => cb.value);
            
            const newCustomer = {
                id: Date.now(),
                firstName: formData.get('firstName'),
                lastName: formData.get('lastName'),
                phone: formData.get('phone'),
                email: formData.get('email') || '',
                tcNo: formData.get('tcNo') || '',
                birthDate: formData.get('birthDate') || '',
                gender: formData.get('gender') || '',
                maritalStatus: formData.get('maritalStatus') || '',
                profession: formData.get('profession') || '',
                company: formData.get('company') || '',
                monthlyIncome: parseInt(formData.get('monthlyIncome')) || 0,
                budget: parseInt(formData.get('budget')) || 0,
                advisor: parseInt(formData.get('advisor')) || (currentUser.type === 'advisor' ? currentUser.id : null),
                customerType: formData.get('customerType') || '',
                priority: formData.get('priority') || 'Normal',
                source: formData.get('source') || '',
                city: formData.get('city') || '',
                district: formData.get('district') || '',
                address: formData.get('address') || '',
                preferredPropertyType: formData.get('preferredPropertyType') || '',
                preferredRooms: formData.get('preferredRooms') || '',
                minArea: parseInt(formData.get('minArea')) || 0,
                maxArea: parseInt(formData.get('maxArea')) || 0,
                preferredLocations: formData.get('preferredLocations') || '',
                homeNumber: formData.get('homeNumber') || '',
                preferences: preferences,
                notes: formData.get('notes') || '',
                createdAt: new Date().toISOString()
            };
            
            customers.push(newCustomer);
            db.saveCustomers(customers);
            db.addNotification(`Yeni m√º≈üteri eklendi: ${newCustomer.firstName} ${newCustomer.lastName}`);
            
            hideModal('customerModal');
            this.reset();
            loadCustomers();
            showNotification('M√º≈üteri ba≈üarƒ±yla eklendi!', 'success');
        });

        // Advisor modal
        document.getElementById('addAdvisorBtn').addEventListener('click', () => showModal('advisorModal'));
        document.getElementById('cancelAdvisorBtn').addEventListener('click', () => hideModal('advisorModal'));

        document.getElementById('advisorForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            const advisors = db.getAdvisors();
            
            // Get checkbox values for certifications
            const certifications = Array.from(this.querySelectorAll('input[name="certifications"]:checked')).map(cb => cb.value);
            
            const newAdvisor = {
                id: Date.now(),
                firstName: formData.get('firstName'),
                lastName: formData.get('lastName'),
                tcNo: formData.get('tcNo'),
                birthDate: formData.get('birthDate') || '',
                phone: formData.get('phone'),
                email: formData.get('email'),
                emergencyPhone: formData.get('emergencyPhone') || '',
                gender: formData.get('gender') || '',
                maritalStatus: formData.get('maritalStatus') || '',
                education: formData.get('education') || '',
                school: formData.get('school') || '',
                department: formData.get('department') || '',
                experience: formData.get('experience') || '',
                previousJob: formData.get('previousJob') || '',
                startDate: formData.get('startDate') || '',
                salary: parseInt(formData.get('salary')) || 0,
                commissionRate: parseFloat(formData.get('commissionRate')) || 0,
                workStatus: formData.get('workStatus') || '',
                username: formData.get('username'),
                password: formData.get('password'),
                specialty: formData.get('specialty'),
                secondarySpecialty: formData.get('secondarySpecialty') || '',
                city: formData.get('city') || '',
                district: formData.get('district') || '',
                address: formData.get('address') || '',
                certifications: certifications,
                workArea1: formData.get('workArea1') || '',
                workArea2: formData.get('workArea2') || '',
                workArea3: formData.get('workArea3') || '',
                otherAreas: formData.get('otherAreas') || '',
                notes: formData.get('notes') || '',
                customerCount: 0,
                isAdmin: false,
                createdAt: new Date().toISOString()
            };
            
            advisors.push(newAdvisor);
            db.saveAdvisors(advisors);
            db.addNotification(`Yeni danƒ±≈üman eklendi: ${newAdvisor.firstName} ${newAdvisor.lastName}`);
            
            hideModal('advisorModal');
            this.reset();
            loadAdvisors();
            showNotification('Danƒ±≈üman ba≈üarƒ±yla eklendi!', 'success');
        });

        // Notification modal
        document.getElementById('addNotificationBtn').addEventListener('click', () => {
            loadNotificationOptions();
            showModal('notificationModal');
        });
        document.getElementById('cancelNotificationBtn').addEventListener('click', () => hideModal('notificationModal'));

        function loadNotificationOptions() {
            const advisors = db.getAdvisors();
            const select = document.getElementById('specificUserSelect');
            
            select.innerHTML = '<option value="">Se√ßin...</option>' + 
                advisors.map(advisor => 
                    `<option value="${advisor.id}">${advisor.firstName} ${advisor.lastName} ${advisor.isAdmin ? '(Y√∂netici)' : '(Danƒ±≈üman)'}</option>`
                ).join('');
        }

        // Notification form dynamic fields
        document.querySelector('select[name="target"]').addEventListener('change', function() {
            const specificUserDiv = document.getElementById('specificUserDiv');
            if (this.value === 'specific') {
                specificUserDiv.classList.remove('hidden');
            } else {
                specificUserDiv.classList.add('hidden');
            }
        });

        document.querySelector('select[name="timing"]').addEventListener('change', function() {
            const scheduledTimeDiv = document.getElementById('scheduledTimeDiv');
            if (this.value === 'scheduled') {
                scheduledTimeDiv.classList.remove('hidden');
            } else {
                scheduledTimeDiv.classList.add('hidden');
            }
        });

        document.getElementById('notificationForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            const type = formData.get('type');
            const title = formData.get('title');
            const message = formData.get('message');
            const priority = formData.get('priority');
            const target = formData.get('target');
            const specificUser = formData.get('specificUser');
            const timing = formData.get('timing');
            const scheduledTime = formData.get('scheduledTime');
            const persistent = formData.get('persistent') === 'on';
            
            let targetUser = null;
            if (target === 'specific' && specificUser) {
                targetUser = parseInt(specificUser);
            } else if (target === 'admins') {
                // For admin-only notifications, we'll handle this in the filtering
                targetUser = 'admins';
            } else if (target === 'advisors') {
                targetUser = 'advisors';
            }
            
            if (timing === 'scheduled' && scheduledTime) {
                // In a real app, you'd schedule this notification
                showNotification('Zamanlanmƒ±≈ü bildirimler hen√ºz desteklenmiyor. Bildirim ≈üimdi g√∂nderildi.', 'info');
            }
            
            db.addNotification(message, type, title, priority, targetUser, persistent);
            
            hideModal('notificationModal');
            this.reset();
            loadNotifications();
            showNotification('Bildirim ba≈üarƒ±yla g√∂nderildi!', 'success');
        });

        // Performance functions (removed modal since not in HTML)
        function getPerformances() {
            return JSON.parse(localStorage.getItem('lookhause_performances') || '[]');
        }

        function savePerformances(performances) {
            localStorage.setItem('lookhause_performances', JSON.stringify(performances));
        }

        // Performance filters (removed since elements don't exist)
        // Performance functionality is handled in loadPerformance() function

        // Notification filters and search
        document.getElementById('notificationFilter').addEventListener('change', renderNotifications);
        document.getElementById('notificationSort').addEventListener('change', renderNotifications);
        document.getElementById('notificationSearch').addEventListener('input', renderNotifications);

        // Mark all notifications as read
        document.getElementById('markAllReadBtn').addEventListener('click', function() {
            db.markAllNotificationsAsRead();
            loadNotifications();
            showNotification('T√ºm bildirimler okundu olarak i≈üaretlendi!', 'success');
        });

        // Activity modal
        document.getElementById('addActivityBtn').addEventListener('click', () => {
            loadActivityOptions();
            showModal('activityModal');
        });
        document.getElementById('cancelActivityBtn').addEventListener('click', () => hideModal('activityModal'));

        function loadActivityOptions() {
            const customers = db.getCustomers();
            const portfolios = db.getPortfolios();
            
            let filteredCustomers = customers;
            if (currentUser.type === 'advisor') {
                filteredCustomers = customers.filter(c => c.advisor === currentUser.id);
            }
            
            const customerSelect = document.getElementById('activityCustomerSelect');
            const portfolioSelect = document.getElementById('activityPortfolioSelect');
            
            customerSelect.innerHTML = '<option value="">Se√ßin...</option>' + 
                filteredCustomers.map(customer => 
                    `<option value="${customer.id}">${customer.firstName} ${customer.lastName}</option>`
                ).join('');
                
            portfolioSelect.innerHTML = '<option value="">Se√ßin...</option>' + 
                portfolios.map(portfolio => 
                    `<option value="${portfolio.id}">${portfolio.title}</option>`
                ).join('');
        }

        document.getElementById('activityForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            const activities = db.getActivities();
            
            // Get checkbox values for tasks
            const tasks = Array.from(this.querySelectorAll('input[name="tasks"]:checked')).map(cb => cb.value);
            
            const newActivity = {
                id: Date.now(),
                type: formData.get('type'),
                date: formData.get('date'),
                customer: parseInt(formData.get('customer')) || null,
                portfolio: parseInt(formData.get('portfolio')) || null,
                duration: parseInt(formData.get('duration')) || null,
                location: formData.get('location') || '',
                result: formData.get('result') || '',
                priority: formData.get('priority') || '',
                offeredPrice: parseInt(formData.get('offeredPrice')) || null,
                customerBudget: parseInt(formData.get('customerBudget')) || null,
                commission: parseInt(formData.get('commission')) || null,
                followUpDate: formData.get('followUpDate') || null,
                interestLevel: formData.get('interestLevel') || '',
                decisionProcess: formData.get('decisionProcess') || '',
                financingStatus: formData.get('financingStatus') || '',
                competition: formData.get('competition') || '',
                tasks: tasks,
                notes: formData.get('notes') || '',
                nextSteps: formData.get('nextSteps') || '',
                createdAt: new Date().toISOString()
            };
            
            activities.push(newActivity);
            db.saveActivities(activities);
            db.addNotification(`Yeni i≈ülem eklendi: ${newActivity.type}`);
            
            hideModal('activityModal');
            this.reset();
            loadActivities();
            showNotification('ƒ∞≈ülem ba≈üarƒ±yla eklendi!', 'success');
        });

        // Customer matching
        document.getElementById('matchCustomerSelect').addEventListener('change', function() {
            const customerId = this.value;
            if (!customerId) {
                document.getElementById('selectedCustomerInfo').classList.add('hidden');
                document.getElementById('matchingPortfolios').innerHTML = '';
                return;
            }
            
            const customers = db.getCustomers();
            const portfolios = db.getPortfolios();
            const customer = customers.find(c => c.id == customerId);
            
            if (customer) {
                document.getElementById('selectedCustomerInfo').classList.remove('hidden');
                document.getElementById('customerDetails').innerHTML = `
                    <p><strong>Ad:</strong> ${customer.firstName} ${customer.lastName}</p>
                    <p><strong>Telefon:</strong> ${customer.phone}</p>
                    <p><strong>B√ºt√ße:</strong> ${customer.budget ? customer.budget.toLocaleString('tr-TR') + ' ‚Ç∫' : 'Belirtilmemi≈ü'}</p>
                    <p><strong>ƒ∞htiya√ßlar:</strong> ${customer.needs || 'Belirtilmemi≈ü'}</p>
                `;
                
                // Show matching portfolios with improved matching logic
                const matchingPortfolios = portfolios.filter(portfolio => {
                    let matches = true;
                    
                    // Budget matching (within 20% tolerance)
                    if (customer.budget && customer.budget > 0) {
                        if (portfolio.type === 'Satƒ±lƒ±k') {
                            matches = matches && portfolio.price <= customer.budget * 1.2;
                        } else if (portfolio.type === 'Kiralƒ±k') {
                            // For rentals, assume monthly budget is 1/100 of purchase budget
                            const monthlyBudget = customer.budget / 100;
                            matches = matches && portfolio.price <= monthlyBudget * 1.2;
                        }
                    }
                    
                    // Property type matching
                    if (customer.preferredPropertyType) {
                        matches = matches && portfolio.propertyType === customer.preferredPropertyType;
                    }
                    
                    // Room count matching
                    if (customer.preferredRooms) {
                        matches = matches && portfolio.rooms === customer.preferredRooms;
                    }
                    
                    // Area matching
                    if (customer.minArea && customer.minArea > 0) {
                        matches = matches && portfolio.area >= customer.minArea;
                    }
                    if (customer.maxArea && customer.maxArea > 0) {
                        matches = matches && portfolio.area <= customer.maxArea;
                    }
                    
                    // Location matching
                    if (customer.preferredLocations) {
                        const preferredAreas = customer.preferredLocations.toLowerCase().split(',').map(s => s.trim());
                        const portfolioLocation = `${portfolio.district}, ${portfolio.city}`.toLowerCase();
                        matches = matches && preferredAreas.some(area => portfolioLocation.includes(area));
                    }
                    
                    // Feature matching
                    if (customer.preferences && customer.preferences.length > 0) {
                        const portfolioFeatures = portfolio.features || [];
                        const matchingFeatures = customer.preferences.filter(pref => 
                            portfolioFeatures.includes(pref)
                        );
                        // At least 50% of preferences should match
                        matches = matches && (matchingFeatures.length / customer.preferences.length) >= 0.5;
                    }
                    
                    return matches;
                });
                
                document.getElementById('matchingPortfolios').innerHTML = matchingPortfolios.length > 0 ? 
                    matchingPortfolios.map(portfolio => {
                        const features = portfolio.features && portfolio.features.length > 0 ? 
                            portfolio.features.slice(0, 3).join(', ') + (portfolio.features.length > 3 ? '...' : '') : 
                            '√ñzellik belirtilmemi≈ü';
                        
                        const matchScore = calculateMatchScore(customer, portfolio);
                        
                        return `
                            <div class="p-4 bg-gray-800 rounded-lg border border-gold/20">
                                <div class="flex justify-between items-start mb-2">
                                    <h4 class="text-gold font-semibold">${portfolio.title}</h4>
                                    <span class="px-2 py-1 bg-green-600 text-white rounded-full text-xs">${matchScore}% Uyum</span>
                                </div>
                                <p class="text-white text-sm mt-1">${portfolio.location} - ${portfolio.rooms}</p>
                                <p class="text-white text-sm">${portfolio.area} m¬≤ - ${portfolio.price.toLocaleString('tr-TR')} ‚Ç∫${portfolio.type === 'Kiralƒ±k' ? '/ay' : ''}</p>
                                <p class="text-gray-400 text-xs mt-1">${features}</p>
                                <div class="flex space-x-2 mt-3">
                                    <button onclick="matchCustomerPortfolio(${customer.id}, ${portfolio.id})" 
                                            class="px-4 py-2 gradient-gold text-black rounded-lg text-sm font-semibold hover:opacity-90">
                                        E≈üle≈ütir
                                    </button>
                                    <button onclick="sendWhatsApp('${portfolio.title}')" 
                                            class="px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-semibold hover:bg-green-700">
                                        WhatsApp
                                    </button>
                                </div>
                            </div>
                        `;
                    }).join('') :
                    '<div class="p-4 bg-gray-800 rounded-lg text-center text-gray-400">Bu m√º≈üteri i√ßin uygun portf√∂y bulunamadƒ±.</div>';
            }
        });

        // Notification functionality
        document.getElementById('notificationBtn').addEventListener('click', function() {
            const dropdown = document.getElementById('notificationDropdown');
            dropdown.classList.toggle('hidden');
            
            if (!dropdown.classList.contains('hidden')) {
                const notifications = db.getNotifications();
                const notificationList = document.getElementById('notificationList');
                
                notificationList.innerHTML = notifications.slice(0, 10).map(notification => `
                    <div class="p-3 border-b border-gray-700 hover:bg-gray-800 ${!notification.read ? 'bg-gold/5' : ''}">
                        <p class="text-sm text-white">${notification.message}</p>
                        <p class="text-xs text-gray-400 mt-1">${notification.timestamp}</p>
                    </div>
                `).join('');
                
                // Mark notifications as read
                notifications.forEach(n => n.read = true);
                db.saveNotifications(notifications);
                db.updateNotificationCount();
            }
        });

        // Close notification dropdown when clicking outside
        document.addEventListener('click', function(e) {
            const dropdown = document.getElementById('notificationDropdown');
            const button = document.getElementById('notificationBtn');
            
            if (!dropdown.contains(e.target) && !button.contains(e.target)) {
                dropdown.classList.add('hidden');
            }
        });

        // Match score calculation
        function calculateMatchScore(customer, portfolio) {
            let score = 0;
            let totalCriteria = 0;
            
            // Budget matching (30% weight)
            if (customer.budget && customer.budget > 0) {
                totalCriteria += 30;
                if (portfolio.type === 'Satƒ±lƒ±k') {
                    if (portfolio.price <= customer.budget) score += 30;
                    else if (portfolio.price <= customer.budget * 1.1) score += 20;
                    else if (portfolio.price <= customer.budget * 1.2) score += 10;
                } else if (portfolio.type === 'Kiralƒ±k') {
                    const monthlyBudget = customer.budget / 100;
                    if (portfolio.price <= monthlyBudget) score += 30;
                    else if (portfolio.price <= monthlyBudget * 1.1) score += 20;
                    else if (portfolio.price <= monthlyBudget * 1.2) score += 10;
                }
            }
            
            // Property type matching (20% weight)
            if (customer.preferredPropertyType) {
                totalCriteria += 20;
                if (portfolio.propertyType === customer.preferredPropertyType) score += 20;
            }
            
            // Room count matching (15% weight)
            if (customer.preferredRooms) {
                totalCriteria += 15;
                if (portfolio.rooms === customer.preferredRooms) score += 15;
            }
            
            // Area matching (15% weight)
            if (customer.minArea || customer.maxArea) {
                totalCriteria += 15;
                let areaMatch = true;
                if (customer.minArea && portfolio.area < customer.minArea) areaMatch = false;
                if (customer.maxArea && portfolio.area > customer.maxArea) areaMatch = false;
                if (areaMatch) score += 15;
            }
            
            // Location matching (10% weight)
            if (customer.preferredLocations) {
                totalCriteria += 10;
                const preferredAreas = customer.preferredLocations.toLowerCase().split(',').map(s => s.trim());
                const portfolioLocation = `${portfolio.district}, ${portfolio.city}`.toLowerCase();
                if (preferredAreas.some(area => portfolioLocation.includes(area))) score += 10;
            }
            
            // Feature matching (10% weight)
            if (customer.preferences && customer.preferences.length > 0) {
                totalCriteria += 10;
                const portfolioFeatures = portfolio.features || [];
                const matchingFeatures = customer.preferences.filter(pref => 
                    portfolioFeatures.includes(pref)
                );
                const featureScore = (matchingFeatures.length / customer.preferences.length) * 10;
                score += featureScore;
            }
            
            return totalCriteria > 0 ? Math.round((score / totalCriteria) * 100) : 0;
        }

        // Utility functions
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `fixed top-4 right-4 p-4 rounded-lg text-white z-50 ${
                type === 'success' ? 'bg-green-600' : 
                type === 'error' ? 'bg-red-600' : 'bg-blue-600'
            }`;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        function sendWhatsApp(subject) {
            const message = encodeURIComponent(`Merhaba! ${subject} hakkƒ±nda bilgi almak istiyorum.`);
            window.open(`https://wa.me/?text=${message}`, '_blank', 'noopener,noreferrer');
        }

        function matchCustomerPortfolio(customerId, portfolioId) {
            const activities = db.getActivities();
            const customers = db.getCustomers();
            const portfolios = db.getPortfolios();
            
            const customer = customers.find(c => c.id == customerId);
            const portfolio = portfolios.find(p => p.id == portfolioId);
            
            const newActivity = {
                id: Date.now(),
                type: 'E≈üle≈ütirme',
                date: new Date().toISOString(),
                customer: customerId,
                portfolio: portfolioId,
                notes: `${customer.firstName} ${customer.lastName} ile ${portfolio.title} e≈üle≈ütirildi`,
                createdAt: new Date().toISOString()
            };
            
            activities.push(newActivity);
            db.saveActivities(activities);
            db.addNotification(`M√º≈üteri-portf√∂y e≈üle≈ütirmesi yapƒ±ldƒ±: ${customer.firstName} ${customer.lastName} - ${portfolio.title}`);
            
            showNotification('E≈üle≈ütirme ba≈üarƒ±yla yapƒ±ldƒ±!', 'success');
        }

        // Delete functions (simplified - in real app, would show confirmation)
        function deletePortfolio(id) {
            const portfolios = db.getPortfolios().filter(p => p.id !== id);
            db.savePortfolios(portfolios);
            loadPortfolios();
            showNotification('Portf√∂y silindi!', 'success');
        }

        function deleteCustomer(id) {
            const customers = db.getCustomers().filter(c => c.id !== id);
            db.saveCustomers(customers);
            loadCustomers();
            showNotification('M√º≈üteri silindi!', 'success');
        }

        function deleteAdvisor(id) {
            const advisors = db.getAdvisors().filter(a => a.id !== id);
            db.saveAdvisors(advisors);
            loadAdvisors();
            showNotification('Danƒ±≈üman silindi!', 'success');
        }

        function deleteActivity(id) {
            const activities = db.getActivities().filter(a => a.id !== id);
            db.saveActivities(activities);
            loadActivities();
            showNotification('ƒ∞≈ülem silindi!', 'success');
        }

        // Edit functions (simplified - would open modals with pre-filled data)
        function editPortfolio(id) {
            showNotification('D√ºzenleme √∂zelliƒüi yakƒ±nda eklenecek!', 'info');
        }

        function editCustomer(id) {
            showNotification('D√ºzenleme √∂zelliƒüi yakƒ±nda eklenecek!', 'info');
        }

        function editAdvisor(id) {
            showNotification('D√ºzenleme √∂zelliƒüi yakƒ±nda eklenecek!', 'info');
        }

        function editActivity(id) {
            showNotification('D√ºzenleme √∂zelliƒüi yakƒ±nda eklenecek!', 'info');
        }

        // Performance management functions
        function editPerformance(id) {
            showNotification('Performans d√ºzenleme √∂zelliƒüi yakƒ±nda eklenecek!', 'info');
        }

        function deletePerformance(id) {
            const performances = getPerformances().filter(p => p.id !== id);
            savePerformances(performances);
            loadPerformance();
            showNotification('Performans kaydƒ± silindi!', 'success');
        }

        function viewPerformanceDetails(id) {
            const performances = getPerformances();
            const advisors = db.getAdvisors();
            
            let performance = performances.find(p => p.id === id);
            let advisor;
            
            if (!performance) {
                // If no performance record, create a summary from activities
                advisor = advisors.find(a => a.id === id);
                if (!advisor) return;
                
                const customers = db.getCustomers().filter(c => c.advisor === advisor.id);
                const activities = db.getActivities().filter(a => {
                    const customer = customers.find(c => c.id == a.customer);
                    return customer && customer.advisor === advisor.id;
                });
                
                performance = {
                    advisor: advisor.id,
                    period: 'Genel',
                    salesCount: activities.filter(a => a.type === 'Satƒ±≈ü').length,
                    rentalCount: activities.filter(a => a.type === 'Kiralama').length,
                    meetingCount: activities.filter(a => a.type.includes('G√∂r√º≈üme')).length,
                    phoneCallCount: activities.filter(a => a.type === 'Telefon G√∂r√º≈ümesi').length,
                    propertyVisitCount: activities.filter(a => a.type === 'Emlak Gezisi').length,
                    newCustomerCount: customers.length,
                    totalRevenue: activities.filter(a => a.type === 'Satƒ±≈ü').length * 500000,
                    commissionEarned: activities.filter(a => a.type === 'Satƒ±≈ü').length * 15000,
                    notes: 'Otomatik hesaplanan veriler'
                };
            } else {
                advisor = advisors.find(a => a.id === performance.advisor);
            }
            
            if (!advisor) return;
            
            const successRate = performance.meetingCount > 0 ? 
                ((performance.salesCount / performance.meetingCount) * 100).toFixed(1) : 0;
            
            const detailsHtml = `
                <div class="bg-gray-900 rounded-xl border border-gold/20 p-6 max-w-2xl mx-auto">
                    <h3 class="text-2xl font-bold text-gold mb-6">${advisor.firstName} ${advisor.lastName} - Performans Detaylarƒ±</h3>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                        <div class="bg-gray-800 p-4 rounded-lg">
                            <h4 class="text-gold font-semibold mb-3">Temel Metrikler</h4>
                            <div class="space-y-2 text-white text-sm">
                                <p><strong>D√∂nem:</strong> ${performance.period}</p>
                                <p><strong>Satƒ±≈ü Sayƒ±sƒ±:</strong> ${performance.salesCount}</p>
                                <p><strong>Kiralama Sayƒ±sƒ±:</strong> ${performance.rentalCount || 0}</p>
                                <p><strong>Toplam Ciro:</strong> ‚Ç∫${(performance.totalRevenue || 0).toLocaleString('tr-TR')}</p>
                                <p><strong>Komisyon:</strong> ‚Ç∫${(performance.commissionEarned || 0).toLocaleString('tr-TR')}</p>
                            </div>
                        </div>
                        
                        <div class="bg-gray-800 p-4 rounded-lg">
                            <h4 class="text-gold font-semibold mb-3">Aktivite Metrikleri</h4>
                            <div class="space-y-2 text-white text-sm">
                                <p><strong>G√∂r√º≈üme Sayƒ±sƒ±:</strong> ${performance.meetingCount || 0}</p>
                                <p><strong>Telefon G√∂r√º≈ümesi:</strong> ${performance.phoneCallCount || 0}</p>
                                <p><strong>Emlak Gezisi:</strong> ${performance.propertyVisitCount || 0}</p>
                                <p><strong>Yeni M√º≈üteri:</strong> ${performance.newCustomerCount || 0}</p>
                                <p><strong>Ba≈üarƒ± Oranƒ±:</strong> ${successRate}%</p>
                            </div>
                        </div>
                        
                        ${performance.achievements && performance.achievements.length > 0 ? `
                        <div class="bg-gray-800 p-4 rounded-lg">
                            <h4 class="text-gold font-semibold mb-3">Ba≈üarƒ±lar</h4>
                            <div class="flex flex-wrap gap-2">
                                ${performance.achievements.map(achievement => 
                                    `<span class="px-2 py-1 bg-green-600 text-white rounded-full text-xs">${achievement}</span>`
                                ).join('')}
                            </div>
                        </div>
                        ` : ''}
                        
                        ${performance.improvements && performance.improvements.length > 0 ? `
                        <div class="bg-gray-800 p-4 rounded-lg">
                            <h4 class="text-gold font-semibold mb-3">Geli≈üim Alanlarƒ±</h4>
                            <div class="flex flex-wrap gap-2">
                                ${performance.improvements.map(improvement => 
                                    `<span class="px-2 py-1 bg-yellow-600 text-white rounded-full text-xs">${improvement}</span>`
                                ).join('')}
                            </div>
                        </div>
                        ` : ''}
                    </div>
                    
                    ${performance.notes ? `
                    <div class="bg-gray-800 p-4 rounded-lg mb-4">
                        <h4 class="text-gold font-semibold mb-3">Notlar</h4>
                        <p class="text-white text-sm">${performance.notes}</p>
                    </div>
                    ` : ''}
                    
                    ${performance.nextPeriodGoals ? `
                    <div class="bg-gray-800 p-4 rounded-lg">
                        <h4 class="text-gold font-semibold mb-3">Gelecek D√∂nem Hedefleri</h4>
                        <p class="text-white text-sm">${performance.nextPeriodGoals}</p>
                    </div>
                    ` : ''}
                </div>
            `;
            
            // Create and show modal
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4';
            modal.innerHTML = `
                <div class="bg-gray-900 rounded-xl border border-gold/20 w-full max-w-4xl max-h-full overflow-y-auto">
                    <div class="p-6 border-b border-gold/20 flex justify-between items-center">
                        <h3 class="text-xl font-bold text-gold">Performans Detaylarƒ±</h3>
                        <button onclick="this.closest('.fixed').remove()" class="text-gold hover:text-gold-dark text-2xl">&times;</button>
                    </div>
                    <div class="p-6">
                        ${detailsHtml}
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
        }

        // Notification management functions
        function markNotificationAsRead(id) {
            db.markNotificationAsRead(id);
            loadNotifications();
        }

        function deleteNotification(id) {
            db.deleteNotification(id);
            loadNotifications();
            showNotification('Bildirim silindi!', 'success');
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Set default date for activity form
            const now = new Date();
            now.setMinutes(now.getMinutes() - now.getTimezoneOffset());
            const dateInput = document.querySelector('input[name="date"]');
            if (dateInput) {
                dateInput.value = now.toISOString().slice(0, 16);
            }
            
            // Add some sample notifications for demo
            if (db.getNotifications().length === 0) {
                db.addNotification('Lookhause CRM sistemine ho≈ü geldiniz!', 'system', 'Ho≈ü Geldiniz', 'normal', null, false);
                db.addNotification('Yeni √∂zellikler hakkƒ±nda bilgi almak i√ßin bildirimler sekmesini ziyaret edin.', 'info', 'Yeni √ñzellikler', 'normal', null, false);
                db.addNotification('Sistem bakƒ±mƒ± yarƒ±n saat 02:00-04:00 arasƒ± yapƒ±lacaktƒ±r.', 'warning', 'Sistem Bakƒ±mƒ±', 'high', null, true);
            }
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'992c6b9480c7deb0',t:'MTc2MTE3MjAyNy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
